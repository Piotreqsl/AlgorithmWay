{"version":3,"sources":["components/logo.png","redux/types.js","redux/reducers/userReducer.js","redux/reducers/dataReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/actions/userActions.js","utils/AuthRoute.js","redux/actions/dataActions.js","components/delete_post.js","components/post.js","pages/home.js","components/dialog_restartPassword.js","pages/login.js","pages/signup.js","pages/upload.js","components/dialog_change.js","components/snackbar.js","pages/profile.js","components/editRequestList.js","pages/admin.js","components/dialog_img.js","components/delete_comment.js","components/comments.js","components/comment_input.js","pages/notFound.js","pages/posts.js","pages/edit.js","pages/getEdit.js","pages/users.js","components/navbar.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SET_ERRORS","CLEAR_ERRORS","initialState","authenticated","credentials","loading","likes","notifications","adminPrivileges","userPrivileges","posts","backupdata","post","editPost","noMore","admin","unapprovedPosts","errors","success","processing","middleware","thunk","reducers","combineReducers","user","state","action","type","payload","userHandle","handle","postId","filter","like","data","concat","lastId","length","edit","index","findIndex","secondIndex","thirdIndex","likeCount","index1","splice","secondindex1","thirdindex1","resPost","comments","commentCount","comIndex","comment","id","indexA","verified","secondIndexA","thirdIndexA","UI","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","getUserData","dispatch","axios","get","then","res","catch","err","console","log","setAuthorizationHeader","token","FBIdToken","localStorage","setItem","defaults","headers","common","logoutUser","removeItem","AuthRoute","Component","component","auth","rest","render","props","to","prototype","PropTypes","object","isRequired","connect","getPosts","advancedFiltering","mainArray","filters","filtered","i","categories","some","r","includes","push","advancedFilteringCode","existingCode","undefined","java","cpp","python","loadMorePosts","categoryFilters","codeFilters","approvedOnly","link","getState","getPost","response","postPost","newPost","history","statusText","likePost","unlikePost","delete_post","open","handleOpen","setState","handleClose","deletePost","classes","this","Tooltip","title","placement","IconButton","onClick","className","style","backgroundColor","color","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","cont","DialogActions","variant","delete","withStyles","marginTop","marginBottom","likedPost","find","approve","approvePost","dayjs","extend","relativeTime","shortDesc","createdAt","userImage","likeButton","marginRight","Link","approveButton","marginLeft","deleteButton","Card","CardContent","draggable","src","height","clear","Typography","fromNow","mapActionsToProps","card","display","home","active","string","int","array","char","crypt","graphs","AI","DS","all","appr","unappr","code","arrayFilters","renderWaypoint","onEnter","toggleClass","currentState","handleChange","name","event","target","checked","handleChangeCode","handleChangeGlobal","handleSubmitFilters","preventDefault","filterPosts","prevProps","prevState","snapshot","enqueueSnackbar","preventDuplicate","autoHideDuration","did","recentPostsMarkup","map","key","CircularProgress","Grid","container","spacing","item","sm","xs","Button","disabled","onSubmit","FormGroup","column","FormControlLabel","control","Checkbox","onChange","value","label","paddingLeft","RadioGroup","float","aria-label","Radio","LinearProgress","width","func","onLeave","withSnackbar","FormDialog","email","submit","resetPassword","body","nextProps","general","error","TextField","margin","placeholder","e","emailChange","fullWidth","inputProps","maxLength","login","handleSubmit","userData","password","loginUser","form","Avatar","bigAvatar","pageTitle","formCard","noValidate","textField","helperText","custError","button","size","progress","crtAcc","textAlign","position","fontSize","padding","textDecoration","transition","signup","confirmPassword","signupUser","nick","React","createRef","handleHelper","ref","newUserData","upload","alignment","javaCode","pythonCode","cppCode","expanded","images","urls","formdatas","sent","handleImageDelete","arrForms","arrUrls","indexOf","currentTarget","parentElement","querySelector","handleImageUpload","image","files","formData","FormData","append","isType","objUrl","URL","createObjectURL","handleAlignment","document","getElementById","innerHTML","toString","handleFormChange","arr","handlePostUpload","uploadPostImage","postStruct","desc","handleCodeChange","handleExpand","classList","add","remove","handleOpenInput","click","url","Paper","paper","head1","input","multiline","rows","rowsMax","md","ToggleButtonGroup","exclusive","ToggleButton","class","hidden","theme","blackBox","bio","location","mapUserDetailsToState","userDetails","editUserDetails","DialogContentText","onBioChange","onLocChange","makeStyles","close","profile","handleImageChange","uploadImage","handleEditPicture","element","theTime","imageUrl","reputation","alt","left","icoMargin","profilePosts","bottomOffset","scrollableAncestor","synchronizePosts","ui","maxWidth","verticalAlign","lineHeight","editIco","EditRequestList","loadingLocal","editReq","getUnapprovedPosts","editRequests","req","autoComplete","maxHeight","overflow","List","info","forEach","ResponsiveDialog","useState","setOpen","useTheme","fullScreen","useMediaQuery","breakpoints","down","_imgURL","backgroundImage","delete_comment","handleCommentDelete","deleteComment","comId","commentId","currentUserHandle","borderLeft","right","bottom","format","comment_input","submitComment","commentBody","commentData","notFound","expandedC","currentCode","img","handleEdit","loc","pathname","split","prevprops","status","editButton","ExpansionPanel","expansion","ex","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","marginUni","scrollTo","offsetTop","language","imgs","expanded1","imgOptions","handleAlignment1","uploadPostImageEdit","originalPostId","originalID","createEditRequest","renderEdit","defaultValue","spellcheck","renderPost","isEmailVerified","getEdit","expanded2","handleApprove","approveEditRequest","handleReject","rejectEditRequest","getEditRequest","editID","originalPost","editRequest","users","getForeignUser","username","useStyles","toDi","toN","grow","flexGrow","menuButton","up","search","borderRadius","shape","fade","palette","white","searchIcon","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","transitions","create","sectionDesktop","sectionMobile","PrimarySearchAppBar","useLocation","useHistory","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","useSelector","shallowEqual","useSnackbar","closeSnackbar","useDispatch","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","Badge","badgeContent","renderMobileMenu","disableFocusRipple","disableRipple","aria-haspopup","AppBar","Toolbar","InputBase","root","edge","createMuiTheme","primary","main","dark","light","secondary","typography","useNextVariants","fontFamily","jwtDecode","exp","Date","now","href","warning","variantSuccess","variantError","variantWarning","variantInfo","maxSnack","exact","path","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dbe28461.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAEvmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjE5MiIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjE5MiIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjE5MiIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMTkyIgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSI5Ni4wIgogICB0aWZmOllSZXNvbHV0aW9uPSI5Ni4wIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDE5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\"","//User reducer types\r\nexport const SET_AUTHENTICATED = 'SET_AUTHENTICATED';\r\nexport const SET_UNAUTHENTICATED = 'SET_UNAUTHENTICATED';\r\nexport const SET_USER = 'SET_USER';\r\nexport const LOADING_USER = \"LOADING_USER\";\r\nexport const SET_USERDET = \"SET_USERDET\"\r\n\r\n// Data actions\r\n\r\n\r\n\r\n\r\n//UI reducer types\r\nexport const SET_ERRORS = 'SET_ERRORS';\r\nexport const LOADING_UI = \"LOADING_UI\";\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\nexport const SET_SUCCESS = 'SET_SUCCESS'\r\nexport const CLEAR_SUCCESS = 'CLEAR_SUCCESS'\r\nexport const LOADING_DATA = \"LOADING_DATA\";\r\nexport const UPLOAD_POST = \"UPLOAD_POST\"\r\nexport const STOP_LOADING_UI = \"STOP_LOADING_UI\"\r\nexport const PROCESSING = \"PROCESSING\"\r\nexport const STOP_PROCESSING = \"STOP_PROCESSING\"\r\n\r\n\r\n//Data reducer types\r\nexport const SET_POSTS = 'SET_POSTS';\r\nexport const SET_POST = 'SET_POST';\r\nexport const LIKE_POST = 'LIKE_POST';\r\nexport const UNLIKE_POST = 'UNLIKE_POST';\r\nexport const DELETE_POST = \"DELETE_POST\"\r\nexport const ADD_POSTS = \"ADD_POSTS\"\r\nexport const LOAD_MORE_POSTS = \"LOAD_MORE_POSTS\"\r\nexport const SET_NO_MORE = \"SET_NO_MORE\"\r\nexport const FILTER_POSTS = \"FILTER_POSTS\"\r\nexport const GET_UNAPPROVED_POSTS = \"GET_UNAPPROVED_POSTS\"\r\nexport const APPROVE_POST = \"APPROVE_POST\"\r\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\"\r\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\r\nexport const SET_FOREIGN_USER = \"SET_FOREIGN_USER\"\r\nexport const GET_EDIT_REQUEST = \"GET_EDIT_REQUEST\"\r\nexport const SYNC_POSTS = \"SYNC_POSTS\"\r\n","import {\r\n  SET_USER,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  SET_AUTHENTICATED,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  credentials: {},\r\n  loading: false,\r\n  likes: [],\r\n  notifications: [],\r\n  adminPrivileges: false,\r\n  userPrivileges: false\r\n};\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return {\r\n        ...state,\r\n        authenticated: true\r\n      };\r\n\r\n    case SET_UNAUTHENTICATED:\r\n      return initialState;\r\n    case SET_USER:\r\n      return {\r\n        authenticated: true,\r\n        ...action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case LOADING_USER:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n\r\n    case LIKE_POST:\r\n      return {\r\n        ...state,\r\n        likes: [\r\n          ...state.likes,\r\n          {\r\n            userHandle: state.credentials.handle,\r\n            postId: action.payload.postId\r\n          }\r\n        ]\r\n      };\r\n\r\n    case UNLIKE_POST:\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(like => like.postId !== action.payload.postId)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_POSTS,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  LOADING_DATA,\r\n  DELETE_POST,\r\n  UPLOAD_POST,\r\n  ADD_POSTS,\r\n  FILTER_POSTS,\r\n  SET_POST,\r\n  SET_NO_MORE,\r\n  LOAD_MORE_POSTS,\r\n  GET_UNAPPROVED_POSTS,\r\n  SUBMIT_COMMENT,\r\n  DELETE_COMMENT,\r\n  APPROVE_POST,\r\n  SET_FOREIGN_USER,\r\n  GET_EDIT_REQUEST,\r\n  SYNC_POSTS,\r\n\r\n\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  backupdata: [],\r\n  post: {},\r\n  editPost: {},\r\n  loading: false,\r\n  noMore: false,\r\n  admin: {\r\n    unapprovedPosts: []\r\n  }\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADING_DATA:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case LOAD_MORE_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.concat(action.payload),\r\n        backupdata: state.backupdata.concat(action.backupdata),\r\n        lastId: action.backupdata[action.backupdata.length - 1].postId\r\n      };\r\n\r\n    case FILTER_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload\r\n      };\r\n\r\n    case SET_NO_MORE:\r\n      return {\r\n        ...state,\r\n        noMore: true\r\n      };\r\n    case GET_UNAPPROVED_POSTS:\r\n      return {\r\n        ...state,\r\n        admin: {\r\n          ...state.admin,\r\n          unapprovedPosts: action.payload\r\n        }\r\n      };\r\n    case SYNC_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload,\r\n        noMore: false,\r\n        loading: false,\r\n        lastId: action.payload[action.payload.length - 1].postId,\r\n        backupdata: action.payload,\r\n        posts: state.backupdata\r\n      };\r\n        \r\n      \r\n\r\n      case GET_EDIT_REQUEST:\r\n        return {\r\n          ...state,\r\n          post: action.payload,\r\n            editPost: action.edit\r\n        }\r\n\r\n        case SET_POSTS:\r\n          return {\r\n            ...state,\r\n            posts: action.payload,\r\n              noMore: false,\r\n              loading: false,\r\n              lastId: action.payload[action.payload.length - 1].postId,\r\n              backupdata: action.payload\r\n          };\r\n\r\n        case ADD_POSTS:\r\n          return {\r\n            ...state,\r\n            posts: state.posts.concat(action.payload)\r\n          };\r\n\r\n        case SET_POST:\r\n          return {\r\n            ...state,\r\n            post: action.payload\r\n          };\r\n\r\n        case UNLIKE_POST:\r\n        case LIKE_POST:\r\n          let index = state.posts.findIndex(\r\n            post => post.postId === action.payload.postId\r\n          );\r\n          state.posts[index] = action.payload;\r\n\r\n          let secondIndex = state.backupdata.findIndex(\r\n            post => post.postId === action.payload.postId\r\n          );\r\n          state.backupdata[secondIndex] = action.payload;\r\n\r\n          let thirdIndex = state.admin.unapprovedPosts.findIndex(\r\n            post => post.postId === action.payload.postId\r\n          );\r\n          if (thirdIndex >= 0)\r\n            state.admin.unapprovedPosts[thirdIndex] = action.payload;\r\n\r\n          if (state.post.postId === action.payload.postId) {\r\n            state.post.likeCount = action.payload.likeCount;\r\n          }\r\n          return {\r\n            ...state\r\n          };\r\n\r\n    case DELETE_POST:\r\n      let index1 = state.posts.findIndex(\r\n        post => post.postId === action.payload\r\n      );\r\n      state.posts.splice(index1, 1);\r\n\r\n          let secondindex1 = state.backupdata.findIndex(\r\n            post => post.postId === action.payload\r\n          );\r\n          state.backupdata.splice(secondindex1, 1);\r\n\r\n          let thirdindex1 = state.admin.unapprovedPosts.findIndex(\r\n            post => post.postId === action.payload\r\n          );\r\n          if (thirdindex1 >= 0) state.admin.unapprovedPosts.splice(thirdindex1, 1);\r\n\r\n          return {\r\n            ...state\r\n          };\r\n\r\n        case UPLOAD_POST:\r\n          return {\r\n            ...state,\r\n            posts: [action.payload.resPost, ...state.posts]\r\n          };\r\n\r\n    case SUBMIT_COMMENT:\r\n      return {\r\n        ...state,\r\n        post: {\r\n          ...state.post,\r\n          comments: [action.payload, ...state.post.comments],\r\n          commentCount: state.post.commentCount + 1\r\n        }\r\n      };\r\n\r\n    case DELETE_COMMENT:\r\n      let comIndex = state.post.comments.findIndex(\r\n        comment => comment.id === action.payload\r\n      );\r\n      state.post.comments.splice(comIndex, 1);\r\n      return {\r\n        ...state,\r\n        post: {\r\n          ...state.post,\r\n          comments: [...state.post.comments],\r\n          commentCount: state.post.commentCount - 1\r\n        }\r\n      };\r\n\r\n    case APPROVE_POST:\r\n      let indexA = state.posts.findIndex(\r\n        post => post.postId === action.payload\r\n      );\r\n      state.posts[indexA].verified = true;\r\n\r\n      let secondIndexA = state.backupdata.findIndex(\r\n        post => post.postId === action.payload\r\n      );\r\n      state.backupdata[secondIndexA].verified = true;\r\n\r\n      let thirdIndexA = state.admin.unapprovedPosts.findIndex(\r\n        post => post.postId === action.payload\r\n      );\r\n      if (thirdIndexA >= 0) state.admin.unapprovedPosts.splice(thirdIndexA, 1);\r\n\r\n      return {\r\n        ...state\r\n      };\r\n\r\n\r\n      case SET_FOREIGN_USER:\r\n        return {\r\n          ...action.payload,\r\n          loading: false,\r\n          \r\n        }\r\n\r\n\r\n    default:\r\n      return state;\r\n        \r\n}}\r\n","import {\r\n    SET_ERRORS,\r\n    CLEAR_ERRORS,\r\n    LOADING_UI,\r\n    LOADING_SIMPLE,\r\n    ENQUEUE_SNACKBAR,\r\n    CLOSE_SNACKBAR,\r\n    REMOVE_SNACKBAR,\r\n    SET_SUCCESS,\r\n    CLEAR_SUCCESS,\r\n    STOP_LOADING_UI,\r\n    PROCESSING,\r\n    STOP_PROCESSING\r\n\r\n\r\n} from '../types';\r\nconst initialState = {\r\n    loading: false,\r\n    errors: null,\r\n    success: null,\r\n    processing: false\r\n\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n    switch (action.type) {\r\n\r\n        case PROCESSING:\r\n            return {\r\n                ...state,\r\n                processing: true\r\n            }\r\n\r\n            case STOP_PROCESSING:\r\n                return {\r\n                    ...state,\r\n                    processing: false\r\n                }\r\n\r\n\r\n                case SET_ERRORS:\r\n                    return {\r\n                        ...state,\r\n                        loading: false,\r\n                            processing: false,\r\n                            errors: action.payload,\r\n                    };\r\n\r\n                case SET_SUCCESS:\r\n                    return {\r\n                        ...state,\r\n                        loading: false,\r\n                            processing: false,\r\n                            success: action.payload,\r\n                    };\r\n\r\n                case CLEAR_SUCCESS:\r\n                    return {\r\n                        ...state,\r\n                        success: null\r\n                    };\r\n\r\n                case CLEAR_ERRORS:\r\n                    return {\r\n                        ...state,\r\n                        loading: false,\r\n                            processing: false,\r\n                            errors: null,\r\n                    };\r\n\r\n                case LOADING_UI:\r\n                    return {\r\n                        ...state,\r\n                        loading: true,\r\n                    }\r\n                    case STOP_LOADING_UI:\r\n                        return {\r\n                            ...state,\r\n                            loading: false,\r\n\r\n                        }\r\n\r\n\r\n\r\n                        default:\r\n                            return state;\r\n\r\n    }\r\n}","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport dataReducer from \"./reducers/dataReducer\";\r\nimport uiReducer from \"./reducers/uiReducer\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [ thunk ];\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  data: dataReducer,\r\n  UI: uiReducer\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  SET_USER,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n  SET_SUCCESS,\r\n  CLEAR_SUCCESS,\r\n\r\n\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\nimport { useSnackbar } from 'notistack';\r\n\r\n\r\n\r\n\r\n\r\nexport const loginUser = (userData, history) => dispatch => {\r\n\r\n\r\n  dispatch({\r\n    type: LOADING_UI\r\n  });\r\n  dispatch({\r\n    type: CLEAR_SUCCESS\r\n  });\r\n  axios\r\n    .post(\"/login\", userData)\r\n    .then(res => {\r\n      setAuthorizationHeader(res.data.token);\r\n\r\n      dispatch(getUserData());\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n      history.push(\"/\");\r\n\r\n\r\n    }).then(() => {\r\n      dispatch({\r\n        type: CLEAR_SUCCESS\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n\r\n\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n\r\n\r\n\r\n\r\n};\r\n\r\nexport const resetPassword = (resetPassword) => dispatch => {\r\n\r\n  dispatch({\r\n    type: LOADING_USER\r\n  });\r\n  axios.post('/passwordReset', resetPassword)\r\n    .then(res => {\r\n      dispatch({\r\n        type: SET_SUCCESS,\r\n        payload: res.data\r\n      });\r\n\r\n\r\n    })\r\n\r\n    .catch(err => {\r\n\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n\r\n\r\n\r\n    });\r\n\r\n  dispatch({\r\n    type: CLEAR_SUCCESS\r\n  });\r\n  dispatch({\r\n    type: CLEAR_ERRORS\r\n  });\r\n\r\n}\r\n\r\nexport const getUserData = () => dispatch => {\r\n  dispatch({\r\n    type: LOADING_USER\r\n  });\r\n  axios\r\n    .get(\"/user\")\r\n    .then(res => {\r\n      \r\n      dispatch({\r\n        type: SET_USER,\r\n        payload: res.data\r\n      });\r\n      \r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//signup\r\n\r\nexport const signupUser = (newUserData, history) => dispatch => {\r\n  dispatch({\r\n    type: LOADING_UI\r\n  });\r\n  axios\r\n    .post(\"/signup\", newUserData)\r\n    .then(res => {\r\n     // setAuthorizationHeader(res.data.token);\r\n\r\n     // dispatch(getUserData());\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n      history.push(\"/login\");\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n      \r\n    });\r\n};\r\n\r\n\r\n\r\nexport const editUserDetails = (userDetails) => (dispatch) => {\r\n  dispatch({\r\n    type: LOADING_USER\r\n  });\r\n  axios.post('/user', userDetails)\r\n    .then(() => {\r\n      dispatch(getUserData());\r\n      \r\n\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\n\r\nexport const uploadImage = (formData) => (dispatch) => {\r\n  dispatch({type: LOADING_USER});\r\n  axios.post('/user/image', formData)\r\n  .then(res => {\r\n    dispatch(getUserData());\r\n\r\n  })\r\n  .catch(err=>console.log(err));\r\n}\r\n\r\n\r\n\r\n\r\nconst setAuthorizationHeader = token => {\r\n\r\n  const FBIdToken = `Bearer ${token}`;\r\n  localStorage.setItem(\"FBIdToken\", FBIdToken);\r\n  axios.defaults.headers.common[\"Authorization\"] = FBIdToken;\r\n};\r\n\r\nexport const logoutUser = () => dispatch => {\r\n  localStorage.removeItem(\"FBIdToken\");\r\n  delete axios.defaults.headers.common[\"Authorization\"];\r\n  dispatch({\r\n    type: SET_UNAUTHENTICATED\r\n  });\r\n};","import React from 'react'\r\n\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\nimport { connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AuthRoute = ({component: Component, auth, ...rest}) => (\r\n\r\n<Route {...rest}\r\nrender={(props) => auth === true ? <Redirect to='/'/> : <Component {...props}/>}\r\n/>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.user.authenticated,\r\n})\r\n\r\n\r\nAuthRoute.prototype = {\r\n    user: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);","import {\r\n  SET_POSTS,\r\n  UPLOAD_POST,\r\n  LOADING_DATA,\r\n  LIKE_POST,\r\n  UNLIKE_POST,\r\n  DELETE_POST,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  SET_SUCCESS,\r\n  CLEAR_SUCCESS,\r\n  GET_EDIT_REQUEST,\r\n  SET_NO_MORE,\r\n  PROCESSING,\r\n  SET_POST,\r\n\r\n  LOAD_MORE_POSTS,\r\n  FILTER_POSTS,\r\n  GET_UNAPPROVED_POSTS,\r\n  SUBMIT_COMMENT,\r\n  DELETE_COMMENT,\r\n  APPROVE_POST,\r\n  STOP_PROCESSING,\r\n  SET_FOREIGN_USER,\r\n  SYNC_POSTS\r\n\r\n\r\n\r\n} from \"../types\";\r\n\r\nimport store from '../store';\r\n\r\nimport axios from \"axios\";\r\nimport delete_post from \"../../components/delete_post\";\r\n\r\nexport const getPosts = () => dispatch => {\r\n  dispatch({\r\n    type: CLEAR_ERRORS\r\n  })\r\n  dispatch({\r\n    type: CLEAR_SUCCESS\r\n  })\r\n\r\n  dispatch({\r\n    type: LOADING_DATA\r\n  });\r\n  axios\r\n    .get(\"/posts\")\r\n    .then(res => {\r\n      if (res.data.length < 15) dispatch({\r\n        type: SET_NO_MORE\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_POSTS,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: SET_POSTS,\r\n        payload: []\r\n      });\r\n    });\r\n};\r\n\r\nconst advancedFiltering = (mainArray, filters) => {\r\n  let filtered = [];\r\n\r\n  for (var i = 0; i < mainArray.length; i++) {\r\n    if (mainArray[i].categories.some(r => filters.includes(r))) {\r\n      filtered.push(mainArray[i])\r\n    }\r\n  }\r\n\r\n  return filtered;\r\n\r\n}\r\n\r\n\r\nconst advancedFilteringCode = (mainArray, filters) => {\r\n\r\n  let filtered = [];\r\n\r\n\r\n\r\n  for (var i = 0; i < mainArray.length; i++) {\r\n    let existingCode = [];\r\n\r\n    if (mainArray[i].java !== undefined) existingCode.push(\"java\")\r\n    if (mainArray[i].cpp !== undefined) existingCode.push(\"cpp\")\r\n    if (mainArray[i].python !== undefined) existingCode.push(\"python\")\r\n\r\n\r\n    if (existingCode.some(r => filters.includes(r))) {\r\n      filtered.push(mainArray[i]);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return filtered;\r\n\r\n\r\n}\r\n\r\nexport const synchronizePosts = () => dispatch => {\r\n  dispatch({\r\n    type: SYNC_POSTS\r\n  })\r\n}\r\n\r\n\r\nexport const loadMorePosts = (categoryFilters, codeFilters, approvedOnly) => dispatch => {\r\n\r\n\r\n\r\n  var link = \"/posts/next/\" + store.getState().data.lastId;\r\n  console.log(link + \" redux\");\r\n\r\n  axios.get(link).then((res) => {\r\n\r\n\r\n\r\n    let filtered = [];\r\n\r\n    for (var i = 0; i < res.data.length; i++) {\r\n      if (approvedOnly === true && res.data[i].verified === true) {\r\n        filtered.push(res.data[i])\r\n      } else {\r\n        filtered[i] = res.data[i];\r\n      }\r\n    }\r\n\r\n    console.log(categoryFilters)\r\n\r\n    if (categoryFilters.length > 0) filtered = advancedFiltering(filtered, categoryFilters);\r\n    if (codeFilters.length > 0) filtered = advancedFilteringCode(filtered, codeFilters);\r\n\r\n\r\n\r\n\r\n\r\n    if (filtered.length === 0) {\r\n      loadMorePosts(categoryFilters, codeFilters, approvedOnly);\r\n      console.log(\"przeszed\" + \"tersad\")\r\n    }\r\n\r\n\r\n\r\n    dispatch({\r\n      type: LOAD_MORE_POSTS,\r\n      payload: filtered,\r\n      backupdata: res.data\r\n    })\r\n\r\n\r\n\r\n  }).catch(err => {\r\n    dispatch({\r\n      type: SET_NO_MORE\r\n    })\r\n\r\n  })\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport const filterPosts = (categoryFilters, codeFilters, approvedOnly) => dispatch => {\r\n\r\n  let filtered = [];\r\n\r\n  for (var i = 0; i < store.getState().data.backupdata.length; i++) {\r\n    if (approvedOnly === true && store.getState().data.backupdata[i].verified === true) {\r\n      filtered.push(store.getState().data.backupdata[i])\r\n    } else {\r\n      filtered = store.getState().data.backupdata\r\n    }\r\n  }\r\n\r\n  if (categoryFilters.length > 0) filtered = advancedFiltering(filtered, categoryFilters);\r\n  if (codeFilters.length > 0) filtered = advancedFilteringCode(filtered, codeFilters);\r\n\r\n  console.log(filtered);\r\n\r\n  dispatch({\r\n    type: FILTER_POSTS,\r\n    payload: filtered\r\n  })\r\n\r\n\r\n}\r\n\r\n\r\nexport const getPost = postId => dispatch => {\r\n  if (postId !== \"logo192.png\") {\r\n\r\n    dispatch({\r\n      type: LOADING_UI\r\n    });\r\n\r\n    axios.get(`/posts/${postId}`)\r\n      .then(res => {\r\n\r\n\r\n        dispatch({\r\n          type: SET_POST,\r\n          payload: res.data,\r\n        });\r\n        dispatch({\r\n          type: SET_SUCCESS,\r\n          payload: \"Git majonezizk\"\r\n        })\r\n      })\r\n      .catch(err => {\r\n        dispatch({\r\n          type: SET_ERRORS,\r\n          payload: err.response\r\n        });\r\n        console.log(err)\r\n      });\r\n  }\r\n}\r\n\r\n\r\nexport const getUnapprovedPosts = () => dispatch => {\r\n  axios.get('/allPosts')\r\n    .then(res => {\r\n      let filtered = [];\r\n\r\n      res.data.forEach(req => {\r\n        if (req.verified === false) {\r\n          filtered.push(req);\r\n        }\r\n      })\r\n\r\n      dispatch({\r\n        type: GET_UNAPPROVED_POSTS,\r\n        payload: filtered\r\n      })\r\n    })\r\n    .catch(err => console.log(err + \" z posta\"));\r\n\r\n}\r\n\r\nexport const approvePost = (postId) => dispatch => {\r\n  var link = \"/admin/\" + postId + \"/verify\"\r\n\r\n  dispatch({\r\n    type: CLEAR_ERRORS\r\n  })\r\n  dispatch({\r\n    type: CLEAR_SUCCESS\r\n  })\r\n\r\n  axios.post(link).then(res => {\r\n\r\n    dispatch({\r\n      type: APPROVE_POST,\r\n      payload: postId\r\n    })\r\n    dispatch({\r\n      type: SET_SUCCESS,\r\n      payload: \"Post approved\"\r\n    })\r\n\r\n\r\n  }).catch(err => {\r\n    dispatch({\r\n      type: SET_ERRORS,\r\n      payload: \"Post already approved\"\r\n    })\r\n\r\n\r\n  })\r\n\r\n\r\n}\r\n\r\nexport const createEditRequest = (newPost, history) => dispatch => {\r\n\r\n\r\n  dispatch({\r\n    type: PROCESSING\r\n  });\r\n\r\n  var link = \"/post/\" + newPost.originalPostId + \"/createEditRequest\";\r\n\r\n  axios.post(link, newPost)\r\n    .then(res => {\r\n      console.log(res)\r\n\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n      dispatch({\r\n        type: SET_SUCCESS,\r\n        payload: res.data.success\r\n      });\r\n\r\n\r\n    }).catch(err => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.statusText,\r\n      });\r\n    });\r\n\r\n\r\n\r\n}\r\n\r\nexport const getEditRequest = editID => dispatch => {\r\n  dispatch({\r\n    type: LOADING_UI\r\n  });\r\n\r\n  axios.get(`/post/${editID}/editRequest`)\r\n    .then(res => {\r\n\r\n      console.log(res.data);\r\n\r\n      dispatch({\r\n        type: GET_EDIT_REQUEST,\r\n        payload: res.data.originalPost,\r\n        edit: res.data.editRequest\r\n      })\r\n\r\n\r\n\r\n\r\n\r\n      dispatch({\r\n        type: SET_SUCCESS,\r\n        payload: \"Edit request success\"\r\n      })\r\n\r\n    }).catch(err => {\r\n      console.log(err);\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.data.error\r\n      });\r\n    })\r\n\r\n\r\n}\r\n\r\nexport const approveEditRequest = editID => dispatch => {\r\n  dispatch({\r\n    type: PROCESSING\r\n  });\r\n\r\n  axios.post(`/post/${editID}/approveEditRequest`).then(res => {\r\n\r\n    dispatch({\r\n      type: SET_SUCCESS,\r\n      payload: \"Edit request approved\"\r\n    });\r\n    getPosts();\r\n\r\n\r\n  }).catch(err => {\r\n    dispatch({\r\n      type: SET_ERRORS,\r\n      payload: err.response.data.error\r\n    });\r\n    console.log(err);\r\n  })\r\n\r\n}\r\n\r\n\r\nexport const rejectEditRequest = editID => dispatch => {\r\n  dispatch({\r\n    type: PROCESSING\r\n  });\r\n\r\n  axios.post(`/post/${editID}/rejectEditRequest`).then(res => {\r\n\r\n    dispatch({\r\n      type: SET_SUCCESS,\r\n      payload: \"Edit request rejected\"\r\n    });\r\n\r\n  }).catch(err => {\r\n    dispatch({\r\n      type: SET_ERRORS,\r\n      payload: err.response.data.error\r\n    });\r\n    console.log(err);\r\n  })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const postPost = (newPost, history) => dispatch => {\r\n  dispatch({\r\n    type: LOADING_UI\r\n  });\r\n  axios\r\n    .post(\"/post\", newPost)\r\n    .then(res => {\r\n      dispatch({\r\n        type: UPLOAD_POST,\r\n        payload: res.data\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n      dispatch({\r\n        type: SET_SUCCESS,\r\n        payload: \"Successfully posted\"\r\n      });\r\n      history.push(\"/\");\r\n    })\r\n    .catch(err => {\r\n\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.statusText,\r\n      });\r\n\r\n\r\n\r\n\r\n    });\r\n\r\n};\r\n\r\nexport const likePost = postId => dispatch => {\r\n  axios\r\n    .get(`/post/${postId}/like`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: LIKE_POST,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const unlikePost = postId => dispatch => {\r\n  axios\r\n    .get(`/post/${postId}/unlike`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: UNLIKE_POST,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const submitComment = (postId, commentData) => dispatch => {\r\n  axios.post(`/post/${postId}/comment`, commentData)\r\n    .then(res => {\r\n      dispatch({\r\n        type: SUBMIT_COMMENT,\r\n        payload: res.data\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response.data,\r\n      })\r\n    })\r\n\r\n\r\n}\r\n\r\nexport const deleteComment = (commentId) => dispatch => {\r\n  axios.post(`/comment/${commentId}/delete`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: DELETE_COMMENT,\r\n        payload: commentId\r\n      })\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\n\r\n\r\n\r\nexport const deletePost = postId => dispatch => {\r\n  axios\r\n    .delete(`/post/${postId}`)\r\n    .then(() => {\r\n      dispatch({\r\n        type: DELETE_POST,\r\n        payload: postId\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_SUCCESS,\r\n        payload: \"Deleted succesfully\"\r\n      })\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const uploadPostImage = (formData) => dispatch => {\r\n  dispatch({\r\n    type: LOADING_UI\r\n  });\r\n\r\n  dispatch({\r\n    type: PROCESSING\r\n  })\r\n  axios.post(\"/post/uploadImage\", formData)\r\n    .then(res => {\r\n      dispatch({\r\n        type: SET_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response,\r\n      });\r\n\r\n      dispatch({\r\n        type: CLEAR_SUCCESS\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n\r\n    })\r\n}\r\n\r\nexport const uploadPostImageEdit = (formData) => dispatch => {\r\n  dispatch({\r\n    type: PROCESSING\r\n  });\r\n\r\n  dispatch({\r\n    type: PROCESSING\r\n  })\r\n  axios.post(\"/post/uploadImage\", formData)\r\n    .then(res => {\r\n      dispatch({\r\n        type: SET_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: SET_ERRORS,\r\n        payload: err.response,\r\n      });\r\n\r\n      dispatch({\r\n        type: CLEAR_SUCCESS\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const getForeignUser = (username) => (dispatch) => {\r\n\r\n  dispatch({\r\n    type: LOADING_UI\r\n  });\r\n\r\n  axios.get(`/users/${username}`)\r\n    .then(res => {\r\n      dispatch({\r\n\r\n        type: SET_FOREIGN_USER,\r\n\r\n        payload: res.data,\r\n\r\n      });\r\n      dispatch({\r\n        type: CLEAR_ERRORS\r\n      });\r\n\r\n\r\n    }).catch(err => {\r\n        console.log(err);\r\n        dispatch({\r\n          type: SET_ERRORS,\r\n          payload: err.response,\r\n        });\r\n      }\r\n\r\n\r\n    )\r\n\r\n}","import React, { Component, Fragment } from \"react\";\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n//Material-UI imports\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nimport dayjs from \"dayjs\";\r\n\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { deletePost } from \"../redux/actions/dataActions\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\n\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nconst styles = {\r\n\r\ncont: {\r\n    marginTop: \"-20px\",\r\n    marginBottom: \"20px\",\r\n\r\n}\r\n\r\n};\r\nexport class delete_post extends Component {\r\n state = {\r\n     open: false,\r\n };\r\n handleOpen = () => {\r\n     this.setState({open: true});\r\n }\r\n handleClose = () => {\r\n    this.setState({open: false});\r\n}\r\ndeletePost = () => {\r\n    this.props.deletePost(this.props.postId)\r\n    this.setState({open: false});\r\n}\r\n\r\n \r\n    render() {\r\n    const { classes } = this.props;\r\n\r\n    return <Fragment>\r\n\r\n<Tooltip title=\"Delete post\" placement=\"top\">\r\n          <IconButton onClick={this.handleOpen}\r\n            className=\"deleteIco\"\r\n            style={{ backgroundColor: 'transparent'}}\r\n            > \r\n          <DeleteOutlineIcon\r\n            color=\"primary\"\r\n            \r\n          />\r\n          </IconButton>\r\n        </Tooltip>\r\n\r\n\r\n\r\n\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Are you sure you want to delete this post?</DialogTitle>\r\n          \r\n          <DialogContent className={classes.cont}>\r\n            This action is irreverable\r\n            \r\n          </DialogContent>\r\n          \r\n          <DialogActions>\r\n\r\n            <IconButton\r\n              variant=\"contained\"\r\n              onClick={this.handleClose}\r\n              color=\"primary\"\r\n            >\r\n             <CloseIcon></CloseIcon>\r\n            </IconButton>\r\n\r\n            <IconButton variant=\"contained\" onClick={this.deletePost} color=\"primary\">\r\n              <DoneIcon></DoneIcon>\r\n            </IconButton>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n    </Fragment>;\r\n  }\r\n}\r\ndelete_post.propTypes = {\r\n  deletePost: PropTypes.func.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  postId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default connect(null, { deletePost })(withStyles(styles)(delete_post));\r\n","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n//Material-UI imports\r\n\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport MessageIcon from '@material-ui/icons/Message';\r\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\n\r\nimport dayjs from \"dayjs\";\r\n\r\n\r\n\r\nimport DeletePost from './delete_post'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { likePost, unlikePost, approvePost } from '../redux/actions/dataActions'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\n\r\n\r\n\r\n//icons\r\nimport LikedIcon from '@material-ui/icons/Favorite';\r\nimport LikeIcon from '@material-ui/icons/FavoriteBorder';\r\n\r\nconst styles = {\r\n  card: {\r\n    display: \"flex\"\r\n  }\r\n};\r\n\r\nclass post extends Component {\r\n\r\n  likedPost = () => {\r\n    if (this.props.user.likes && this.props.user.likes.find(like => like.postId === this.props.post.postId)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  likePost = () => {\r\n    this.props.likePost(this.props.post.postId);\r\n  }\r\n  unlikePost = () => {\r\n    this.props.unlikePost(this.props.post.postId);\r\n  }\r\n\r\n  approve = () => {\r\n    this.props.approvePost(this.props.post.postId)\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n\r\n\r\n\r\n    dayjs.extend(relativeTime);\r\n    const {\r\n      classes,\r\n      post: {\r\n        title,\r\n        shortDesc,\r\n        userHandle,\r\n        createdAt,\r\n        userImage,\r\n        postId,\r\n        java,\r\n        python,\r\n        cpp,\r\n        likeCount,\r\n        commentCount,\r\n        verified\r\n      },\r\n      user: {\r\n        authenticated, credentials: { handle }, adminPrivileges\r\n      }\r\n    } = this.props;\r\n\r\n\r\n\r\n    const likeButton = !authenticated ? (\r\n      <IconButton style={{ backgroundColor: 'transparent', marginRight: '-12px' }} component={Link} to=\"/login\" >\r\n        <LikeIcon color=\"primary\" />\r\n      </IconButton>\r\n    ) : (\r\n        this.likedPost() ? (\r\n          <IconButton style={{ backgroundColor: 'transparent', marginRight: '-12px' }} onClick={this.unlikePost} >\r\n            <LikedIcon color=\"primary\" />\r\n          </IconButton>\r\n        ) : (\r\n\r\n            <IconButton style={{ backgroundColor: 'transparent', marginRight: '-12px' }} onClick={this.likePost} >\r\n              <LikeIcon color=\"primary\" />\r\n            </IconButton>\r\n\r\n          )\r\n      )\r\n\r\n    const approveButton = (authenticated && this.props.user.adminPrivileges && !verified) ?\r\n\r\n      <Tooltip title=\"Approve post\" placement=\"top\">\r\n        <IconButton style={{ backgroundColor: 'transparent', marginLeft: '-10px' }} onClick={this.approve} >\r\n          <CheckIcon\r\n            style={{ color: \"#4CAF50\" }} />\r\n        </IconButton></Tooltip> : null\r\n\r\n\r\n\r\n\r\n    const deleteButton = (authenticated && userHandle === handle) || (authenticated && this.props.user.adminPrivileges) ? (\r\n\r\n      <DeletePost postId={postId} />\r\n\r\n    ) : null\r\n\r\n\r\n\r\n    var j_src;\r\n    var p_src;\r\n    var c_src;\r\n    j_src = \"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/java_logo.png?alt=media&token=03067a8a-721b-4f69-ad32-ef2df63a9584\";\r\n    p_src = \"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/python_logo.png?alt=media&token=7e7010bb-fa65-445d-be7a-7a429c703d2c\";\r\n\r\n    c_src = \"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/cpp_logo.png?alt=media&token=8389d1bd-c9f0-4542-a274-1a33d9922e6f\";\r\n\r\n\r\n    return (\r\n\r\n\r\n\r\n      <div className=\"post-margin\">\r\n        <Card className=\"post-content\">\r\n\r\n          <CardContent>\r\n\r\n\r\n            <Link to={`/posts/${postId}`}><p className=\"post-title\" >{title}</p> </Link>\r\n\r\n\r\n            <div className=\"post-langs\">\r\n              {java !== undefined && java !== \"\" && java !== null ? <Tooltip title=\"Java\" placement=\"top\">\r\n                <img draggable=\"false\" src={j_src} height=\"24px\" />\r\n              </Tooltip> : null}\r\n\r\n\r\n              {python !== undefined && python !== \"\" && python !== null ? <Tooltip title=\"Python\" placement=\"top\">\r\n                <img draggable=\"false\" src={p_src} height=\"24px\" />\r\n              </Tooltip> : null}\r\n\r\n\r\n              {cpp !== undefined && cpp !== \"\" && cpp !== null ?\r\n                <Tooltip title=\"C++\" placement=\"top\">\r\n                  <img draggable=\"false\" src={c_src} height=\"24px\" />\r\n                </Tooltip> : null}\r\n            </div><div style={{ clear: \"both\" }} ></div>\r\n            <p className=\"post-short-desc\">\r\n              {shortDesc}\r\n            </p>\r\n            <div className=\"post-date\">\r\n              <Typography variant=\"caption\" color=\"inherit\">\r\n                {dayjs(createdAt).fromNow()}\r\n              </Typography>\r\n\r\n              {likeButton}  <Typography variant=\"caption\" color=\"inherit\">\r\n                {likeCount}\r\n              </Typography>\r\n\r\n\r\n\r\n\r\n              <IconButton component={Link} to={\r\n                authenticated ? `/posts/${postId}` : '/login'\r\n              } style={{ backgroundColor: 'transparent', marginRight: '-8px', marginTop: \"3px\" }} >\r\n                <ChatBubbleOutlineIcon color=\"primary\"></ChatBubbleOutlineIcon>\r\n              </IconButton><Typography variant=\"caption\" color=\"inherit\">\r\n                {commentCount}\r\n              </Typography>\r\n\r\n\r\n              {deleteButton}\r\n              {approveButton}\r\n\r\n            </div>\r\n            <div className=\"post-userhandle\">\r\n              <Typography\r\n                component={Link}\r\n                to={\r\n\r\n                  this.props.user.credentials.handle === this.props.post.userHandle\r\n                    ? `/user`\r\n                    : `/users/${userHandle}`\r\n\r\n                }\r\n                variant=\"caption\"\r\n                color=\"inherit\"\r\n              >\r\n                {userHandle}\r\n              </Typography>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\npost.propTypes = {\r\n  likePost: PropTypes.func.isRequired,\r\n  unlikePost: PropTypes.func.isRequired,\r\n  approvePost: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  post: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user,\r\n  data: state.data\r\n})\r\n\r\n\r\nconst mapActionsToProps = {\r\n  likePost,\r\n  unlikePost,\r\n  approvePost\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(post));\r\n","import React, { Component } from 'react'\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nimport Post from '../components/post';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from 'react-redux';\r\nimport { LinearProgress } from '@material-ui/core';\r\nimport PropTypes from \"prop-types\";\r\nimport { withSnackbar } from 'notistack';\r\n\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport Favorite from '@material-ui/icons/Favorite';\r\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\n\r\n\r\nimport { Waypoint } from 'react-waypoint';\r\nimport { getPosts, loadMorePosts, filterPosts } from '../redux/actions/dataActions'\r\n\r\nexport class home extends Component {\r\n\r\n\r\n    state = {\r\n        data: [],\r\n        backupdata: [],\r\n        active: false,\r\n        categories: {\r\n            string: true,\r\n            int: true,\r\n            array: true,\r\n            char: true,\r\n            crypt: true,\r\n            graphs: true,\r\n            AI: true,\r\n            DS: true\r\n        },\r\n        noMore: false,\r\n        all: true,\r\n        appr: false,\r\n        unappr: false,\r\n        code: {\r\n            java: true,\r\n            cpp: true,\r\n            python: true\r\n        },\r\n    }\r\n\r\n\r\n\r\n\r\n    loadMorePosts = () => {\r\n\r\n        var approvedOnly = false;\r\n\r\n\r\n        if (this.state.all) approvedOnly = false;\r\n        if (this.state.appr) approvedOnly = true;\r\n\r\n\r\n\r\n\r\n        /// Filtry na kategorie\r\n        let arrayFilters = [];\r\n        if (this.state.categories.char && this.state.categories.string && this.state.categories.int && this.state.categories.array && this.state.categories.DS && this.state.categories.AI && this.state.categories.crypt && this.state.categories.graphs) {\r\n        } else {\r\n            if (this.state.categories.char) {\r\n                arrayFilters.push('char');\r\n            }\r\n\r\n            if (this.state.categories.int) {\r\n                arrayFilters.push('int');\r\n            }\r\n\r\n            if (this.state.categories.array) {\r\n                arrayFilters.push('array');\r\n            }\r\n\r\n            if (this.state.categories.string) {\r\n                arrayFilters.push('string');\r\n            }\r\n\r\n            if (this.state.categories.crypt) {\r\n                arrayFilters.push('crypt');\r\n            }\r\n\r\n            if (this.state.categories.AI) {\r\n                arrayFilters.push('AI');\r\n            }\r\n\r\n            if (this.state.categories.DS) {\r\n                arrayFilters.push('DS');\r\n            }\r\n\r\n            if (this.state.categories.graphs) {\r\n                arrayFilters.push('graphs');\r\n            }\r\n\r\n        }\r\n\r\n        /// Filtry na kod\r\n\r\n        let codeFilters = [];\r\n\r\n        if (this.state.code.java && this.state.code.cpp && this.state.code.python) {\r\n\r\n        }\r\n        else {\r\n            if (this.state.code.java) {\r\n                codeFilters.push(\"java\")\r\n            }\r\n\r\n            if (this.state.code.cpp) {\r\n                codeFilters.push(\"cpp\")\r\n            }\r\n\r\n            if (this.state.code.python) {\r\n                codeFilters.push(\"python\")\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        this.props.loadMorePosts(arrayFilters, codeFilters, approvedOnly);\r\n\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.user.authenticated !== this.props.user.authenticated && this.props.user.authenticated === true) {\r\n\r\n\r\n            this.props.enqueueSnackbar('Successfully logged in', {\r\n                preventDuplicate: true,\r\n                variant: \"success\",\r\n                autoHideDuration: 3000,\r\n\r\n            });\r\n        }\r\n\r\n        if (prevProps.UI.success !== this.props.UI.success && this.props.UI.success === \"Post approved\") {\r\n            this.props.enqueueSnackbar('Post successfully approved', {\r\n                variant: \"success\",\r\n                autoHideDuration: 3000,\r\n                preventDuplicate: false,\r\n\r\n            });\r\n        }\r\n\r\n        if (prevProps.UI.errors !== this.props.UI.errors && this.props.UI.errors === \"Post already approved\") {\r\n            this.props.enqueueSnackbar(\"Post already approved\", {\r\n                variant: \"error\",\r\n                autoHideDuration: 3000,\r\n                preventDuplicate: false,\r\n\r\n            });\r\n\r\n            if (prevProps.UI.success !== this.props.UI.success && this.props.UI.success === \"Edited immediately by owner\")\r\n                this.props.enqueueSnackbar(\"Edited immediately by owner\", {\r\n                    variant: \"success\",\r\n                    autoHideDuration: 3000,\r\n                    preventDuplicate: false,\r\n\r\n                });\r\n        }\r\n\r\n\r\n        // zmienna pomocnicza, eby nigdy dwa na raz si nie robuy\r\n        var did = false\r\n\r\n        /// Jeli upcoming data nic nie wnioso to aduje dalej\r\n        if ((prevProps.data.posts !== this.props.data.posts) && this.props.data.posts !== undefined && prevProps.data.posts.length - this.props.data.posts.length === 0 && this.props.data.noMore === false) {\r\n\r\n\r\n\r\n            var approvedOnly = false;\r\n            if (this.state.all) approvedOnly = false;\r\n            if (this.state.appr) approvedOnly = true;\r\n            let arrayFilters = [];\r\n            if (this.state.categories.char && this.state.categories.string && this.state.categories.int && this.state.categories.array && this.state.categories.DS && this.state.categories.AI && this.state.categories.crypt && this.state.categories.graphs) {\r\n            } else {\r\n                if (this.state.categories.char) {\r\n                    arrayFilters.push('char');\r\n                }\r\n\r\n                if (this.state.categories.int) {\r\n                    arrayFilters.push('int');\r\n                }\r\n\r\n                if (this.state.categories.array) {\r\n                    arrayFilters.push('array');\r\n                }\r\n\r\n                if (this.state.categories.string) {\r\n                    arrayFilters.push('string');\r\n                }\r\n\r\n                if (this.state.categories.crypt) {\r\n                    arrayFilters.push('crypt');\r\n                }\r\n\r\n                if (this.state.categories.AI) {\r\n                    arrayFilters.push('AI');\r\n                }\r\n\r\n                if (this.state.categories.DS) {\r\n                    arrayFilters.push('DS');\r\n                }\r\n\r\n                if (this.state.categories.graphs) {\r\n                    arrayFilters.push('graphs');\r\n                }\r\n\r\n            }\r\n            let codeFilters = [];\r\n            if (this.state.code.java && this.state.code.cpp && this.state.code.python) {\r\n\r\n            }\r\n            else {\r\n                if (this.state.code.java) {\r\n                    codeFilters.push(\"java\")\r\n                }\r\n\r\n                if (this.state.code.cpp) {\r\n                    codeFilters.push(\"cpp\")\r\n                }\r\n\r\n                if (this.state.code.python) {\r\n                    codeFilters.push(\"python\")\r\n                }\r\n            }\r\n            did = true\r\n            this.props.loadMorePosts(arrayFilters, codeFilters, approvedOnly);\r\n\r\n        }\r\n\r\n        /// Jeli aktualnych postw jest 5 lub mniej, to aduje sie wiecej postw eby zawsze troch mona byo skrolowa\r\n        if ((prevProps.data.posts !== this.props.data.posts) && this.props.data.posts !== undefined && this.props.data.posts.length <= 5 && this.props.data.noMore === false && did === false) {\r\n\r\n\r\n            var approvedOnly = false;\r\n            if (this.state.all) approvedOnly = false;\r\n            if (this.state.appr) approvedOnly = true;\r\n            let arrayFilters = [];\r\n            if (this.state.categories.char && this.state.categories.string && this.state.categories.int && this.state.categories.array && this.state.categories.DS && this.state.categories.AI && this.state.categories.crypt && this.state.categories.graphs) {\r\n            } else {\r\n                if (this.state.categories.char) {\r\n                    arrayFilters.push('char');\r\n                }\r\n\r\n                if (this.state.categories.int) {\r\n                    arrayFilters.push('int');\r\n                }\r\n\r\n                if (this.state.categories.array) {\r\n                    arrayFilters.push('array');\r\n                }\r\n\r\n                if (this.state.categories.string) {\r\n                    arrayFilters.push('string');\r\n                }\r\n\r\n                if (this.state.categories.crypt) {\r\n                    arrayFilters.push('crypt');\r\n                }\r\n\r\n                if (this.state.categories.AI) {\r\n                    arrayFilters.push('AI');\r\n                }\r\n\r\n                if (this.state.categories.DS) {\r\n                    arrayFilters.push('DS');\r\n                }\r\n\r\n                if (this.state.categories.graphs) {\r\n                    arrayFilters.push('graphs');\r\n                }\r\n\r\n            }\r\n            let codeFilters = [];\r\n            if (this.state.code.java && this.state.code.cpp && this.state.code.python) {\r\n\r\n            }\r\n            else {\r\n                if (this.state.code.java) {\r\n                    codeFilters.push(\"java\")\r\n                }\r\n\r\n                if (this.state.code.cpp) {\r\n                    codeFilters.push(\"cpp\")\r\n                }\r\n\r\n                if (this.state.code.python) {\r\n                    codeFilters.push(\"python\")\r\n                }\r\n            }\r\n            this.props.loadMorePosts(arrayFilters, codeFilters, approvedOnly);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        if (this.props.data.posts === undefined || this.props.data.posts.length <= 1) this.props.getPosts();\r\n    }\r\n\r\n\r\n\r\n\r\n    advancedFiltering = (mainArray, filters) => {\r\n        let filtered = [];\r\n\r\n        for (var i = 0; i < mainArray.length; i++) {\r\n            if (mainArray[i].categories.some(r => filters.includes(r))) {\r\n                filtered.push(mainArray[i])\r\n            }\r\n        }\r\n\r\n        return filtered;\r\n\r\n    }\r\n\r\n\r\n    advancedFilteringCode = (mainArray, filters) => {\r\n\r\n        let filtered = [];\r\n\r\n\r\n\r\n        for (var i = 0; i < mainArray.length; i++) {\r\n            let existingCode = [];\r\n\r\n            if (mainArray[i].java !== undefined) existingCode.push(\"java\")\r\n            if (mainArray[i].cpp !== undefined) existingCode.push(\"cpp\")\r\n            if (mainArray[i].python !== undefined) existingCode.push(\"python\")\r\n\r\n\r\n            if (existingCode.some(r => filters.includes(r))) {\r\n                filtered.push(mainArray[i]);\r\n            }\r\n\r\n\r\n        }\r\n\r\n        return filtered;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    renderWaypoint = () => {\r\n        if (this.props.user.loading === false && this.props.data.posts.length > 0) {\r\n            return (\r\n                <Waypoint\r\n                    onEnter={this.loadMorePosts}\r\n                />\r\n            )\r\n\r\n        }\r\n    }\r\n\r\n\r\n    toggleClass = () => {\r\n        var currentState = this.state.active;\r\n        this.setState({ ...this.state, active: !currentState });\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ categories: { ...this.state.categories, [name]: event.target.checked } });\r\n    };\r\n\r\n    handleChangeCode = name => event => {\r\n        this.setState({ code: { ...this.state.code, [name]: event.target.checked } })\r\n    }\r\n\r\n\r\n    handleChangeGlobal = name => event => {\r\n\r\n        this.setState({\r\n            all: false,\r\n            appr: false,\r\n            unappr: false\r\n        })\r\n        this.setState({ [name]: event.target.checked });\r\n    };\r\n\r\n    handleSubmitFilters = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.toggleClass();\r\n\r\n\r\n\r\n        var approvedOnly = false;\r\n        if (this.state.all) approvedOnly = false;\r\n        if (this.state.appr) approvedOnly = true;\r\n\r\n\r\n        /// Filtry na kategorie\r\n        let arrayFilters = [];\r\n        if (this.state.categories.char && this.state.categories.string && this.state.categories.int && this.state.categories.array && this.state.categories.DS && this.state.categories.AI && this.state.categories.crypt && this.state.categories.graphs) {\r\n\r\n        } else {\r\n            if (this.state.categories.char) {\r\n                arrayFilters.push('char');\r\n            }\r\n\r\n            if (this.state.categories.int) {\r\n                arrayFilters.push('int');\r\n            }\r\n\r\n            if (this.state.categories.array) {\r\n                arrayFilters.push('array');\r\n            }\r\n\r\n            if (this.state.categories.string) {\r\n                arrayFilters.push('string');\r\n            }\r\n\r\n            if (this.state.categories.crypt) {\r\n                arrayFilters.push('crypt');\r\n            }\r\n\r\n            if (this.state.categories.AI) {\r\n                arrayFilters.push('AI');\r\n            }\r\n\r\n            if (this.state.categories.DS) {\r\n                arrayFilters.push('DS');\r\n            }\r\n\r\n            if (this.state.categories.graphs) {\r\n                arrayFilters.push('graphs');\r\n            }\r\n\r\n        }\r\n\r\n        /// Filtry na kod\r\n        let codeFilters = [];\r\n        if (this.state.code.java && this.state.code.cpp && this.state.code.python) {\r\n\r\n        }\r\n        else {\r\n            if (this.state.code.java) {\r\n                codeFilters.push(\"java\")\r\n            }\r\n\r\n            if (this.state.code.cpp) {\r\n                codeFilters.push(\"cpp\")\r\n            }\r\n\r\n            if (this.state.code.python) {\r\n                codeFilters.push(\"python\")\r\n            }\r\n        }\r\n\r\n        this.props.filterPosts(arrayFilters, codeFilters, approvedOnly);\r\n\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const { loading } = this.props.data;\r\n\r\n        let recentPostsMarkup = (!loading && this.props.data.posts.length > 0) ? (\r\n            this.props.data.posts.map((post) => <Post key={post.postId} post={post} />)\r\n\r\n        ) : (<div className=\"post-margin\"><center>\r\n            <CircularProgress color=\"primary\" /> </center></div>);\r\n\r\n        if (!loading && this.props.data.posts.length === 0 && this.props.data.noMore === true) {\r\n            recentPostsMarkup = <p>No posts found</p>;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"main-content\" >\r\n                <Grid container spacing={16}>\r\n\r\n\r\n                    <Grid item sm={9} xs={12}>\r\n\r\n                        <Button variant=\"contained\" className=\"filtersButton\" color=\"primary\" disabled={this.props.user.loading ? true : false} onClick={this.toggleClass}>\r\n                            Filters\r\n                        </Button>\r\n\r\n                        <div className={this.state.active ? \"filtersDiv isOpen\" : \"filtersDiv\"}>\r\n                            <form onSubmit={this.handleSubmitFilters}>\r\n                                <div className=\"formWrapper\">\r\n\r\n                                    <FormGroup className=\"formGroup\" column style={{ marginLeft: 10, marginTop: 5 }}>\r\n                                        <Typography color=\"primary\" variant=\"button\"> Categories: </Typography>\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.string} onChange={this.handleChange('string')} value=\"string\" />\r\n                                            }\r\n                                            label=\"Strings\"\r\n                                            style={{ paddingLeft: 10 }}\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.int} onChange={this.handleChange('int')} value=\"int\" />\r\n                                            }\r\n                                            label=\"Integers\"\r\n                                            style={{ paddingLeft: 10 }}\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.array} onChange={this.handleChange('array')} value=\"array\" />\r\n                                            }\r\n                                            label=\"Arrays\"\r\n                                            style={{ paddingLeft: 10 }}\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.char} onChange={this.handleChange('char')} value=\"char\" />\r\n                                            }\r\n                                            label=\"Characters\"\r\n                                            style={{ paddingLeft: 10 }}\r\n                                        />\r\n                                    </FormGroup>\r\n\r\n\r\n                                    <FormGroup className=\"formGroup\" column style={{ marginLeft: 10, marginTop: 5, }}>\r\n                                        <Typography color=\"primary\" variant=\"button\"> Check all to see everything </Typography>\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.crypt} onChange={this.handleChange('crypt')} value=\"crypt\" />\r\n                                            }\r\n                                            label=\"Cryptography\"\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.graphs} onChange={this.handleChange('graphs')} value=\"graphs\" />\r\n                                            }\r\n                                            label=\"Graphs\"\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.AI} onChange={this.handleChange('AI')} value=\"AI\" />\r\n                                            }\r\n                                            label=\"Artificial Intelligence\"\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.categories.DS} onChange={this.handleChange('DS')} value=\"DS\" />\r\n                                            }\r\n                                            label=\"Data Structures\"\r\n                                        />\r\n                                    </FormGroup>\r\n\r\n                                    <div className=\"clearer\"></div>\r\n\r\n                                </div>\r\n                                <div className=\"formWrapper\">\r\n\r\n\r\n                                    <RadioGroup className=\"formGroup\" style={{ float: \"left\", }} aria-label=\"Post status\" name=\"postStatus\">\r\n                                        <Typography color=\"primary\" variant=\"button\"> Posts status </Typography>\r\n                                        <FormControlLabel value=\"all\" control={<Radio checked={this.state.all ? true : false} onChange={this.handleChangeGlobal(\"all\")} />} label=\"All\" />\r\n                                        <FormControlLabel value=\"appr\" control={<Radio checked={this.state.appr ? true : false} onChange={this.handleChangeGlobal(\"appr\")} />} label=\"Approved\" />\r\n                                    </RadioGroup>\r\n\r\n                                    <FormGroup column className=\"formGroup\" style={{ float: \"left\" }}>\r\n                                        <Typography color=\"primary\" variant=\"button\"> Code implementation </Typography>\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.code.java} onChange={this.handleChangeCode('java')} value=\"java\" />\r\n                                            }\r\n                                            label=\"Java\"\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.code.cpp} onChange={this.handleChangeCode('cpp')} value=\"cpp\" />\r\n                                            }\r\n                                            label=\"C++\"\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox checked={this.state.code.python} onChange={this.handleChangeCode('python')} value=\"python\" />\r\n                                            }\r\n                                            label=\"Python\"\r\n                                        />\r\n\r\n                                    </FormGroup>\r\n\r\n\r\n\r\n                                    <div className=\"clearer\"></div>\r\n                                </div>\r\n\r\n                                <Tooltip placement=\"left\" title=\"Save\">\r\n                                    <IconButton\r\n                                        disabled={loading}\r\n                                        type=\"submit\"\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        className=\"filterBtn\"\r\n                                    >\r\n                                        <SaveIcon />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n\r\n                            </form>\r\n                        </div>\r\n                        <br />\r\n\r\n\r\n\r\n                        <div className=\"feed\" >\r\n                            {recentPostsMarkup}\r\n                            <div className=\"infinite-scroll-example__waypoint\">\r\n                                {!this.props.data.noMore ? this.renderWaypoint() : null}\r\n                                {!loading ? this.props.data.noMore ? null : (<div className=\"post-margin\"><center>\r\n                                    <LinearProgress color=\"primary\" style={{ width: \"100%\" }} /></center></div>) : null}\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </Grid>\r\n\r\n                    <Grid className=\"ndgrid\" item sm={3} xs={12}>\r\n                        <p>HISZPAN</p>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// eslint-disable-next-line react/no-typos\r\nhome.PropTypes = {\r\n    getPosts: PropTypes.func.isRequired,\r\n    loadMorePosts: PropTypes.func.isRequired,\r\n    filterPosts: PropTypes.func.isRequired,\r\n    data: PropTypes.object.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    onEnter: PropTypes.func, // function called when waypoint enters viewport\r\n    onLeave: PropTypes.func, // function called when waypoint leaves viewport\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    UI: state.UI,\r\n    data: state.data,\r\n\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, { getPosts, loadMorePosts, filterPosts })(withSnackbar(home));\r\n","import React, { Component, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { extend } from \"dayjs\";\r\nimport axios from \"axios\";\r\nimport { withSnackbar } from 'notistack';\r\nimport { Link } from 'react-router-dom';\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { resetPassword } from \"../redux/actions/userActions\"\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { editUserDetails } from \"../redux/actions/userActions\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nclass FormDialog extends Component {\r\n  state = {\r\n    email: \"\",\r\n    errors: {},\r\n    open: false,\r\n    success: '',\r\n  };\r\n\r\n\r\n\r\n  submit = () => {\r\n\r\n\r\n    const resetPassword = {\r\n      body: this.state.email,\r\n    }\r\n\r\n\r\n\r\n    this.props.resetPassword(resetPassword);\r\n\r\n\r\n    this.handleClose();\r\n\r\n\r\n    console.log(this.state.email);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    console.log(nextProps);\r\n    if (nextProps.UI.loading === false && nextProps.UI.success && !nextProps.UI.errors && !nextProps.UI.general && nextProps.UI.success !== 'Git majonezizk') {\r\n\r\n\r\n\r\n      this.props.enqueueSnackbar('Recovery email sent', {\r\n        preventDuplicate: true,\r\n        variant: \"success\",\r\n        autoHideDuration: 2000,\r\n\r\n      });\r\n    }\r\n    if (nextProps.UI.errors != null) {\r\n      const err = nextProps.UI.errors;\r\n      console.log(err + \"err.error: \" + err.error);\r\n      if (err.error === \"Email not found\" && !nextProps.UI.success) {\r\n\r\n        this.props.enqueueSnackbar('Invalid email', {\r\n          preventDuplicate: true,\r\n          variant: \"error\",\r\n          autoHideDuration: 2000,\r\n\r\n        });\r\n\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ open: true });\r\n\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n    const { classes, UI: { loading } } = this.props;\r\n    const { errors } = this.state;\r\n    return (\r\n      <div>\r\n\r\n        <Typography\r\n          component={Link}\r\n          className=\"frgtPassword\"\r\n          onClick={this.handleOpen}\r\n          variant=\"body1\"\r\n        >\r\n          Forgot password\r\n          </Typography>\r\n\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Reset your password</DialogTitle>\r\n          <form>\r\n            <DialogContent>\r\n\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                id=\"email\"\r\n                label=\"Email\"\r\n                value={this.state.email}\r\n                placeholder=\"Enter your email\"\r\n                // onChange={this.handleChange}\r\n\r\n                onChange={e => this.emailChange(e.target.value)}\r\n                type=\"text\"\r\n                fullWidth\r\n\r\n\r\n                inputProps={{ maxLength: 50 }}\r\n              />\r\n\r\n              <div className=\"resetDialog\"></div>\r\n\r\n\r\n            </DialogContent>\r\n          </form>\r\n          <DialogActions>\r\n            <IconButton\r\n              variant=\"contained\"\r\n              onClick={this.handleClose}\r\n              color=\"primary\"\r\n            >\r\n              <CloseIcon></CloseIcon>\r\n            </IconButton>\r\n            <IconButton variant=\"contained\" onClick={this.submit} color=\"primary\">\r\n              <DoneIcon></DoneIcon>\r\n            </IconButton>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  emailChange(value) {\r\n    this.setState({\r\n      email: value\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\nFormDialog.propTypes = {\r\n  editUserDetails: PropTypes.func.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n};\r\nconst mapStateToProps = state => ({\r\n  credentials: state.user.credentials,\r\n  UI: state.UI,\r\n});\r\n\r\nexport default connect(mapStateToProps, { resetPassword })(withSnackbar((FormDialog)));\r\n","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { withSnackbar } from 'notistack';\r\n\r\n//mui\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Dialog from \"../components/dialog_restartPassword\"\r\n\r\n\r\n//Redux\r\n\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from '../redux/actions/userActions'\r\n\r\n\r\nimport axios from \"axios\";\r\n\r\nconst styles = {\r\n  form: {\r\n    textAlign: \"center\",\r\n\r\n    marginTop: \"30px\"\r\n  },\r\n\r\n  pageTitle: {\r\n    color: \"#2E2E3A\",\r\n    marginBottom: \"20px\"\r\n  },\r\n\r\n  bigAvatar: {\r\n    marginBottom: \"10px\"\r\n  },\r\n\r\n  textField: {\r\n    marginBottom: \"13px\",\r\n    marginTop: \"2px\"\r\n  },\r\n\r\n  button: {\r\n    marginTop: \"25px\",\r\n    position: \"relative\"\r\n  },\r\n  custError: {\r\n    color: \"red\",\r\n    fontSize: \"0.9rem\"\r\n  },\r\n  formCard: {\r\n    padding: \"20px 20px 20px 20px\",\r\n    marginBottom: \"30px\",\r\n    width: \"440px\"\r\n  },\r\n  crtAcc: {\r\n    textDecoration: \"none\",\r\n    color: \"#4d4d62\",\r\n\r\n    \"&:hover\": {\r\n      color: \"#8b8ba3\",\r\n      transition: \"0.2s\"\r\n    }\r\n  },\r\n\r\n\r\n\r\n  progress: {\r\n    position: \"absolute\"\r\n  }\r\n};\r\n\r\n\r\n\r\nexport class login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    console.log(nextProps);\r\n\r\n    if (nextProps.UI.errors) {\r\n      this.setState({ errors: nextProps.UI.errors });\r\n    }\r\n\r\n\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n\r\n    this.props.loginUser(userData, this.props.history);\r\n\r\n\r\n  };\r\n\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes, UI: { loading } } = this.props;\r\n    const { errors } = this.state;\r\n    return (\r\n      <Grid container className={classes.form}>\r\n        <Grid item xs></Grid>\r\n        <Grid item>\r\n          <center>\r\n            <Avatar className={classes.bigAvatar} src=\"logo192.png\"></Avatar>\r\n          </center>{\" \"}\r\n          <br></br>\r\n          <Typography variant=\"h5\" className={classes.pageTitle}>\r\n            Log in to AlgorithmWay\r\n          </Typography>\r\n          <Card className={classes.formCard}>\r\n            <form noValidate onSubmit={this.handleSubmit}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                type=\"text\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                inputProps={{ maxLength: 50 }}\r\n                className={classes.textField}\r\n                value={this.state.email}\r\n                helperText={errors.email}\r\n                error={errors.email ? true : false}\r\n                onChange={this.handleChange}\r\n                fullWidth\r\n              ></TextField>\r\n\r\n              <TextField\r\n                inputProps={{ maxLength: 25 }}\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                className={classes.textField}\r\n                value={this.state.password}\r\n                helperText={errors.password}\r\n                error={errors.password ? true : false}\r\n                onChange={this.handleChange}\r\n                fullWidth\r\n              >\r\n\r\n              </TextField>\r\n              <Dialog /> <br></br>\r\n\r\n              {errors.general && ( //if <= this then print => html\r\n                <Typography variant=\"body2\" className={classes.custError}>\r\n                  {errors.general}\r\n                </Typography>\r\n              )}\r\n\r\n              <Button\r\n                disabled={loading}\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.button}\r\n              >\r\n                Log in\r\n                {loading && (\r\n                  <CircularProgress size={30} className={classes.progress} />\r\n                )}\r\n              </Button>\r\n            </form>\r\n\r\n          </Card>\r\n          <Typography\r\n            component={Link}\r\n            className={classes.crtAcc}\r\n            to=\"/signup\"\r\n            variant=\"body1\"\r\n          >\r\n            Create an account!\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs></Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\nlogin.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n\r\n  loginUser: PropTypes.func.isRequired,\r\n\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n  UI: state.UI,\r\n\r\n});\r\nconst mapActionsToProps = {\r\n  loginUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(withSnackbar(login)));\r\n","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//mui\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport axios from \"axios\";\r\n\r\n//redux\r\nimport { withSnackbar } from 'notistack';\r\nimport {connect} from 'react-redux';\r\nimport {signupUser} from '../redux/actions/userActions';\r\nimport { width } from \"@material-ui/system\";\r\n\r\nconst styles = {\r\n  form: {\r\n    textAlign: \"center\",\r\n\r\n    marginTop: \"30px\"\r\n  },\r\n\r\n  pageTitle: {\r\n    color: \"#2E2E3A\",\r\n    marginBottom: \"20px\"\r\n  },\r\n\r\n  bigAvatar: {\r\n    marginBottom: \"10px\"\r\n  },\r\n\r\n  textField: {\r\n    marginBottom: \"13px\",\r\n    marginTop: \"2px\"\r\n  },\r\n\r\n  custError: {\r\n    color: \"red\",\r\n    fontSize: \"0.9rem\"\r\n  },\r\n  formCard: {\r\n    padding: \"20px 20px 20px 20px\",\r\n    marginBottom: \"30px\",\r\n    width: \"440px\"\r\n  },\r\n  crtAcc: {\r\n    textDecoration: \"none\",\r\n    color: \"#4d4d62\",\r\n    \"&:hover\": {\r\n      color: \"#8b8ba3\",\r\n      transition: \"0.2s\"\r\n    }\r\n  },\r\n\r\n  button: {\r\n    marginTop: \"25px\",\r\n    position: \"relative\"\r\n  },\r\n  progress: {\r\n    position: \"absolute\"\r\n  }\r\n};\r\n\r\nexport class signup extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      handle: \"\",\r\n    \r\n      errors: {}\r\n    };\r\n    this.nick = React.createRef();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n  \r\n    if(nextProps.UI.errors) {\r\n      this.setState({errors: nextProps.UI.errors});\r\n  \r\n    }\r\n\r\n    if (!nextProps.UI.errors && !nextProps.UI.general && nextProps.UI.loading === false) {\r\n     \r\n      this.props.enqueueSnackbar('Verification email sent', {\r\n        preventDuplicate: true,\r\n        variant: \"success\",\r\n        autoHideDuration: 3000,\r\n\r\n      });\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      confirmPassword: this.state.confirmPassword,\r\n      handle: this.state.handle\r\n    };\r\n\r\n    \r\nthis.props.signupUser(userData, this.props.history);\r\n\r\n  };\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes, UI: {loading} } = this.props;\r\n    const { errors } = this.state;\r\n    var handleHelper;\r\n\r\n    if (!errors.handle)\r\n      handleHelper = \"Your nickname should be max 25 characters long\";\r\n    if (errors.handle) handleHelper = errors.handle;\r\n\r\n    return (\r\n      <Grid container className={classes.form}>\r\n        <Grid item xs></Grid>\r\n        <Grid item>\r\n          <center>\r\n            <Avatar className={classes.bigAvatar} src=\"logo192.png\"></Avatar>\r\n          </center>{\" \"}\r\n          <br></br>\r\n          <Typography variant=\"h5\" className={classes.pageTitle}>\r\n            Sign up to AlgorithmWay\r\n          </Typography>\r\n          <Card className={classes.formCard}>\r\n            <form noValidate onSubmit={this.handleSubmit}>\r\n              <TextField\r\n              inputProps={{ maxLength: 25 }}\r\n                variant=\"outlined\"\r\n                ref={this.nick}\r\n                color=\"primary\"\r\n                type=\"text\"\r\n                id=\"handle\"\r\n                name=\"handle\"\r\n                label=\"Username\"\r\n                className={classes.textField}\r\n                value={this.state.handle}\r\n                helperText={handleHelper}\r\n                error={errors.handle ? true : false}\r\n                onChange={this.handleChange}\r\n                fullWidth\r\n              ></TextField>\r\n\r\n              <TextField\r\n              inputProps={{ maxLength: 50 }}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                type=\"text\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                className={classes.textField}\r\n                value={this.state.email}\r\n                helperText={errors.email}\r\n                error={errors.email ? true : false}\r\n                onChange={this.handleChange}\r\n                fullWidth\r\n              ></TextField>\r\n\r\n              <TextField\r\n              inputProps={{ maxLength: 25 }}\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                className={classes.textField}\r\n                value={this.state.password}\r\n                helperText={\r\n                  (errors.password,\r\n                  \"Your password should be between 8 and 25 characters long\")\r\n                }\r\n                error={errors.password ? true : false}\r\n                onChange={this.handleChange}\r\n                fullWidth\r\n              ></TextField>\r\n\r\n              <TextField\r\n              inputProps={{ maxLength: 25 }}\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                id=\"confirmPassword\"\r\n                name=\"confirmPassword\"\r\n                label=\"Confirm password\"\r\n                className={classes.textField}\r\n                value={this.state.confirmPassword}\r\n                helperText={errors.confirmPassword}\r\n                error={errors.confirmPassword ? true : false}\r\n                onChange={this.handleChange}\r\n                fullWidth\r\n              ></TextField>\r\n\r\n              {errors.general && ( //if <= this then print => html\r\n                <Typography variant=\"body2\" className={classes.custError}>\r\n                  {errors.general}\r\n                </Typography>\r\n              )}\r\n\r\n              <Button\r\n                disabled={loading}\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.button}\r\n              >\r\n                Sign up\r\n                {loading && (\r\n                  <CircularProgress size={30} className={classes.progress} />\r\n                )}\r\n              </Button>\r\n            </form>\r\n          </Card>\r\n          <Typography\r\n            component={Link}\r\n            className={classes.crtAcc}\r\n            to=\"/login\"\r\n            variant=\"body1\"\r\n          >\r\n            Already have an account?\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs></Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\nsignup.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  signupUser: PropTypes.func.isRequired,\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n  UI: state.UI,\r\n})\r\n\r\nexport default connect(mapStateToProps, { signupUser })(withStyles(styles)(withSnackbar((signup))));\r\n","import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { postPost } from \"../redux/actions/dataActions\";\r\n\r\n//mui\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport FormatAlignLeftIcon from \"@material-ui/icons/FormatAlignLeft\";\r\nimport FormatAlignCenterIcon from \"@material-ui/icons/FormatAlignCenter\";\r\nimport FormatAlignRightIcon from \"@material-ui/icons/FormatAlignRight\";\r\nimport FormatAlignJustifyIcon from \"@material-ui/icons/FormatAlignJustify\";\r\nimport FormatBoldIcon from \"@material-ui/icons/FormatBold\";\r\nimport FormatItalicIcon from \"@material-ui/icons/FormatItalic\";\r\nimport FormatUnderlinedIcon from \"@material-ui/icons/FormatUnderlined\";\r\nimport FormatColorFillIcon from \"@material-ui/icons/FormatColorFill\";\r\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\r\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\r\nimport CropFreeIcon from \"@material-ui/icons/CropFree\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport PublishIcon from \"@material-ui/icons/Publish\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\n\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport axios from 'axios';\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { uploadPostImage } from \"../redux/actions/dataActions\";\r\nimport { width } from \"@material-ui/system\";\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    padding: \"25px\"\r\n  },\r\n\r\n  head1: {\r\n    marginBottom: \"25px\"\r\n  },\r\n  input: {\r\n    marginBottom: \"15px\"\r\n  },\r\n  blackBox: {\r\n    backgroundColor: \"#000000\",\r\n    color: \"#FFFFFF\"\r\n  },\r\n\r\n  progress: {\r\n    position: \"absolute\"\r\n  }\r\n});\r\n\r\nexport class upload extends Component {\r\n  state = {\r\n    body: \"\",\r\n    errors: {},\r\n    alignment: \"js\",\r\n    javaCode: \"\",\r\n    pythonCode: \"\",\r\n    cppCode: \"\",\r\n    expanded: false,\r\n    categories: [],\r\n    images: [],\r\n    urls: [],\r\n    formdatas: [],\r\n    sent: false,\r\n\r\n  };\r\n\r\n\r\n  handleImageDelete = event => {\r\n    //console.log(event.currentTarget.parentElement.parentElement.querySelector('img').src);\r\n\r\n    var arrForms = [...this.state.formdatas];\r\n    var arrUrls = [...this.state.urls];\r\n    var index = arrUrls.indexOf(event.currentTarget.parentElement.parentElement.querySelector('img').src);\r\n    if (index !== -1) {\r\n      arrForms.splice(index, 1);\r\n      arrUrls.splice(index, 1);\r\n      this.setState({ urls: arrUrls });\r\n      this.setState({ formdatas: arrForms });\r\n      //console.log(this.state.urls);console.log(this.state.formdatas);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  handleImageUpload = event => {\r\n    const image = event.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"image\", image, image.name);\r\n\r\n\r\n\r\n    const isType = image.type;\r\n    if (\r\n      isType === \"image/png\" ||\r\n      isType === \"image/jpg\" ||\r\n      isType === \"image/jpeg\" ||\r\n      isType === \"image/bmp\"\r\n    ) {\r\n      if (image.size < 5000000) {\r\n\r\n\r\n        // console.log(formData);\r\n        this.setState({\r\n          formdatas: [...this.state.formdatas, { formData }]\r\n        });\r\n        // console.log(this.state.formdatas);\r\n\r\n        const objUrl = window.URL.createObjectURL(image);\r\n        this.setState({\r\n          urls: [...this.state.urls, objUrl],\r\n        })\r\n\r\n\r\n        // this.props.uploadPostImage(formData);\r\n      } else {\r\n        this.props.enqueueSnackbar(`Selected file is too big (Max. 5MB)`, {\r\n          preventDuplicate: true,\r\n          variant: \"error\",\r\n          autoHideDuration: 5000\r\n        });\r\n      }\r\n    } else {\r\n      this.props.enqueueSnackbar(`Invalid file type`, {\r\n        preventDuplicate: true,\r\n        variant: \"error\",\r\n        autoHideDuration: 3000\r\n      });\r\n    }\r\n  };\r\n\r\n  handleAlignment = event => {\r\n    this.setState({ alignment: event.currentTarget.value });\r\n\r\n    if (event.currentTarget.value == \"js\") {\r\n      document.getElementById(\"codeBoxing\").value = this.state.javaCode;\r\n      //console.log(this.state.javaCode);\r\n    }\r\n\r\n    if (event.currentTarget.value == \"py\") {\r\n      document.getElementById(\"codeBoxing\").value = this.state.pythonCode;\r\n      // console.log(this.state.pythonCode);\r\n    }\r\n\r\n    if (event.currentTarget.value == \"cpp\") {\r\n      document.getElementById(\"codeBoxing\").value = this.state.cppCode;\r\n      // console.log(this.state.cppCode);\r\n    }\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n\r\n    event.target.parentElement.parentElement.querySelector(\"p\").innerHTML =\r\n      event.target.value.toString().length + \"/\" + event.target.maxLength;\r\n  };\r\n\r\n  handleFormChange = name => event => {\r\n    if (event.target.checked == true) {\r\n      this.setState({\r\n        categories: [...this.state.categories, event.target.value]\r\n      });\r\n    }\r\n\r\n    if (\r\n      event.target.checked == false &&\r\n      this.state.categories.includes(event.target.value)\r\n    ) {\r\n      //console.log(\"need to delete \" + event.target.value);\r\n      var arr = [...this.state.categories];\r\n      var index = arr.indexOf(event.target.value);\r\n      if (index !== -1) {\r\n        arr.splice(index, 1);\r\n        this.setState({ categories: arr });\r\n      }\r\n    }\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    //console.log(nextProps);\r\n    if (nextProps.UI.errors && !nextProps.UI.loading) {\r\n      // console.log(nextProps.UI.errors);\r\n      this.props.enqueueSnackbar(\"Fatal error occurred\", {\r\n        preventDuplicate: true,\r\n        variant: \"error\",\r\n        autoHideDuration: 3000\r\n      });\r\n    }\r\n\r\n\r\n    if (nextProps.UI.success === \"Successfully posted\" && !nextProps.UI.loading) {\r\n      this.props.enqueueSnackbar(\"Successfully uploaded,  your post needs to be approved\", {\r\n        preventDuplicate: true,\r\n        variant: \"success\",\r\n        autoHideDuration: 3000\r\n      });\r\n    }\r\n    if (nextProps.UI.success && !nextProps.UI.loading) {\r\n\r\n\r\n      if (!this.state.images.includes(nextProps.UI.success.url)) {\r\n        this.setState({\r\n          images: [...this.state.images, nextProps.UI.success.url]\r\n        });\r\n      }\r\n\r\n      //console.log(nextProps.UI.success.url);\r\n\r\n      if (this.state.urls.length === this.state.images.length && this.state.sent === false && this.state.urls.length !== 0) {\r\n\r\n\r\n\r\n        //console.log(this.state.urls);\r\n        //console.log(this.state.images);\r\n        //console.log(\"Wszystko zaadowane\");\r\n        this.setState({\r\n          sent: true,\r\n        })\r\n        this.handlePostUpload();\r\n\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n\r\n\r\n\r\n    if (this.state.formdatas.length === 0 && document.getElementById(\"postTitle\").value.length !== 0 && document.getElementById(\"shortDesc\").value.length !== 0) {\r\n      this.handlePostUpload();\r\n    } else {\r\n\r\n\r\n      if (document.getElementById(\"postTitle\").value.length !== 0 && document.getElementById(\"shortDesc\").value.length !== 0) {\r\n\r\n        const arr = this.state.formdatas;\r\n        for (let i = 0; i < arr.length; i++) {\r\n\r\n          const formData = this.state.formdatas[i].formData;\r\n          this.props.uploadPostImage(formData);\r\n          //console.log(i);  \r\n        }\r\n\r\n      } else {\r\n        this.props.enqueueSnackbar(`\"Title\" and \"Short description\" cannot be empty`, {\r\n          preventDuplicate: true,\r\n          variant: \"error\",\r\n          autoHideDuration: 2000\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n  handlePostUpload = () => {\r\n    //console.log(\"Will post now!\");\r\n    const postStruct = {\r\n      title: this.state.title,\r\n      shortDesc: this.state.shortDesc,\r\n      desc: this.state.desc,\r\n      java: this.state.javaCode,\r\n      python: this.state.pythonCode,\r\n      cpp: this.state.cppCode,\r\n      images: this.state.images,\r\n      //categories\r\n      categories: this.state.categories,\r\n    };\r\n\r\n\r\n\r\n\r\n    this.props.postPost(postStruct, this.props.history);\r\n\r\n\r\n  }\r\n\r\n  handleCodeChange = event => {\r\n\r\n    //console.log(document.getElementById(\"postTitle\").value.length);\r\n    //console.log(document.getElementById(\"shortDesc\").value.length);\r\n\r\n    if (this.state.alignment == \"js\") {\r\n      this.setState({ javaCode: event.target.value });\r\n\r\n\r\n\r\n    }\r\n\r\n    if (this.state.alignment == \"py\") {\r\n      this.setState({ pythonCode: event.target.value });\r\n    }\r\n\r\n    if (this.state.alignment == \"cpp\") {\r\n      this.setState({ cppCode: event.target.value });\r\n    }\r\n  };\r\n\r\n  handleExpand = () => {\r\n    //console.log(this.state.expanded);\r\n    if (this.state.expanded == false) {\r\n      document.getElementById(\"codeBoxing\").classList.add(\"blackBoxExpanded\");\r\n      this.setState({ expanded: true });\r\n    }\r\n    if (this.state.expanded == true) {\r\n      document\r\n        .getElementById(\"codeBoxing\")\r\n        .classList.remove(\"blackBoxExpanded\");\r\n\r\n      this.setState({ expanded: false });\r\n    }\r\n  };\r\n\r\n  handleOpenInput = () => {\r\n    const fileInput = document.getElementById(\"imageInput\");\r\n    fileInput.click();\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n    const {\r\n      classes,\r\n      UI: { loading }\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"main-content-squeezed\">\r\n        <Paper className={classes.paper}>\r\n          <Typography className={classes.head1} variant=\"h4\" color=\"primary\">\r\n            Create a post\r\n          </Typography>\r\n\r\n          <TextField\r\n            name=\"title\"\r\n            type=\"text\"\r\n            label=\"Post title*\"\r\n            variant=\"outlined\"\r\n            error={errors.body ? true : false}\r\n            fullWidth\r\n            helperText=\"0/50\"\r\n            onChange={this.handleChange}\r\n            inputProps={{ maxLength: 50 }}\r\n            className={classes.input}\r\n            id=\"postTitle\"\r\n          />\r\n\r\n          <TextField\r\n            name=\"shortDesc\"\r\n            type=\"text\"\r\n            label=\"Short description*\"\r\n            variant=\"outlined\"\r\n            error={errors.body ? true : false}\r\n            fullWidth\r\n            helperText=\"0/250\"\r\n            onChange={this.handleChange}\r\n            inputProps={{ maxLength: 250 }}\r\n            className={classes.input}\r\n            multiline=\"true\"\r\n            rows=\"3\"\r\n            rowsMax=\"4\"\r\n            id=\"shortDesc\"\r\n          />\r\n          <TextField\r\n            name=\"desc\"\r\n            type=\"text\"\r\n            label=\"Description\"\r\n            variant=\"outlined\"\r\n            error={errors.body ? true : false}\r\n            fullWidth\r\n            helperText=\"0/750\"\r\n            onChange={this.handleChange}\r\n            inputProps={{ maxLength: 750 }}\r\n            className={classes.input}\r\n            multiline=\"true\"\r\n            rows=\"7\"\r\n            rowsMax=\"8\"\r\n          />\r\n          <div>\r\n            <div> Categories: </div>\r\n            <FormGroup\r\n              className=\"formGroup\"\r\n              column\r\n              style={{ marginLeft: 10, marginTop: 5 }}\r\n            >\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.string}\r\n                    onChange={this.handleFormChange(\"string\")}\r\n                    value=\"string\"\r\n                  />\r\n                }\r\n                label=\"Strings\"\r\n                style={{ paddingLeft: 10 }}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.int}\r\n                    onChange={this.handleFormChange(\"int\")}\r\n                    value=\"int\"\r\n                  />\r\n                }\r\n                label=\"Integers\"\r\n                style={{ paddingLeft: 10 }}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.array}\r\n                    onChange={this.handleFormChange(\"array\")}\r\n                    value=\"array\"\r\n                  />\r\n                }\r\n                label=\"Arrays\"\r\n                style={{ paddingLeft: 10 }}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.char}\r\n                    onChange={this.handleFormChange(\"char\")}\r\n                    value=\"char\"\r\n                  />\r\n                }\r\n                label=\"Characters\"\r\n                style={{ paddingLeft: 10 }}\r\n              />\r\n            </FormGroup>\r\n\r\n            <FormGroup\r\n              className=\"formGroup\"\r\n              column\r\n              style={{ marginLeft: 10, marginTop: 5 }}\r\n            >\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.crypt}\r\n                    onChange={this.handleFormChange(\"crypt\")}\r\n                    value=\"crypt\"\r\n                  />\r\n                }\r\n                label=\"Cryptography\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.graphs}\r\n                    onChange={this.handleFormChange(\"graphs\")}\r\n                    value=\"graphs\"\r\n                  />\r\n                }\r\n                label=\"Graphs\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.AI}\r\n                    onChange={this.handleFormChange(\"AI\")}\r\n                    value=\"AI\"\r\n                  />\r\n                }\r\n                label=\"Artificial Intelligence\"\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={this.state.categories.DS}\r\n                    onChange={this.handleFormChange(\"DS\")}\r\n                    value=\"DS\"\r\n                  />\r\n                }\r\n                label=\"Data Structures\"\r\n              />\r\n            </FormGroup>\r\n          </div>\r\n\r\n          <Grid container spacing={1}>\r\n            <Grid item sm={12} md={12}>\r\n              <div className=\"codeBoxNav\">\r\n                <ToggleButtonGroup\r\n                  value={this.state.alignment}\r\n                  exclusive\r\n                  onChange={this.handleAlignment}\r\n                >\r\n                  <ToggleButton value=\"js\">\r\n                    <img\r\n                      draggable=\"false\"\r\n                      src={\"java_logo.png\"}\r\n                      height=\"24px\"\r\n                    />\r\n                  </ToggleButton>\r\n                  <ToggleButton value=\"py\">\r\n                    <img\r\n                      draggable=\"false\"\r\n                      src={\"python_logo.png\"}\r\n                      height=\"24px\"\r\n                    />\r\n                  </ToggleButton>\r\n                  <ToggleButton value=\"cpp\">\r\n                    <img\r\n                      draggable=\"false\"\r\n                      src={\"cpp_logo.png\"}\r\n                      height=\"24px\"\r\n                    />\r\n                  </ToggleButton>\r\n                </ToggleButtonGroup>\r\n                <IconButton\r\n                  onClick={this.handleExpand}\r\n                  className=\"codeBoxingCrop\"\r\n                >\r\n                  <CropFreeIcon />\r\n                </IconButton>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <div>\r\n            <textarea\r\n              id=\"codeBoxing\"\r\n              onChange={this.handleCodeChange}\r\n              type=\"text\"\r\n              className=\"blackBox\"\r\n            />\r\n          </div>\r\n\r\n\r\n          <div class=\"imageUploadBox\">\r\n            {this.state.urls.length !== 0 ? (\r\n\r\n              <div id=\"imagesHolder\" className=\"imagesHolder\">\r\n\r\n\r\n\r\n                <div className=\"imagesUploadPreview\">\r\n                  <div className=\"containerIU\">\r\n                    <img src={this.state.urls[0]} />\r\n                    <div className=\"overlayIU\">\r\n                      <IconButton\r\n                        onClick={this.handleImageDelete}\r\n                        className=\"iconIU\"\r\n                        style={{ backgroundColor: \"transparent\" }}\r\n                      >\r\n                        <HighlightOffIcon fontSize=\"large\" />\r\n                      </IconButton>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {this.state.urls.length >= 2 ? (<div className=\"imagesUploadPreview\">\r\n                  <div className=\"containerIU\">\r\n                    <img src={this.state.urls[1]} />\r\n                    <div className=\"overlayIU\">\r\n                      <IconButton\r\n                        onClick={this.handleImageDelete}\r\n                        className=\"iconIU\"\r\n                        style={{ backgroundColor: \"transparent\" }}\r\n                      >\r\n                        <HighlightOffIcon fontSize=\"large\" />\r\n                      </IconButton>\r\n                    </div>\r\n                  </div>\r\n                </div>) : null}\r\n\r\n                {this.state.urls.length >= 3 ? (<div className=\"imagesUploadPreview\">\r\n                  <div className=\"containerIU\">\r\n                    <img src={this.state.urls[2]} />\r\n                    <div className=\"overlayIU\">\r\n                      <IconButton\r\n                        onClick={this.handleImageDelete}\r\n                        className=\"iconIU\"\r\n                        style={{ backgroundColor: \"transparent\" }}\r\n                      >\r\n                        <HighlightOffIcon fontSize=\"large\" />\r\n                      </IconButton>\r\n                    </div>\r\n                  </div>\r\n                </div>) : null}\r\n\r\n                {this.state.urls.length >= 4 ? (<div className=\"imagesUploadPreview\">\r\n                  <div className=\"containerIU\">\r\n                    <img src={this.state.urls[3]} />\r\n                    <div className=\"overlayIU\">\r\n                      <IconButton\r\n                        onClick={this.handleImageDelete}\r\n                        className=\"iconIU\"\r\n                        style={{ backgroundColor: \"transparent\" }}\r\n                      >\r\n                        <HighlightOffIcon fontSize=\"large\" />\r\n                      </IconButton>\r\n                    </div>\r\n                  </div>\r\n                </div>) : null}\r\n\r\n\r\n\r\n                {this.state.urls.length < 4 ? (\r\n\r\n                  <div className=\"additionalIconDiv\" >\r\n                    <IconButton onClick={this.handleOpenInput}>\r\n                      <AddCircleOutlineIcon fontSize=\"large\" />\r\n                    </IconButton>\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"imageInput\"\r\n                      hidden=\"hidden\"\r\n                      onChange={this.handleImageUpload}\r\n                    />\r\n                  </div>\r\n\r\n                ) : null}\r\n\r\n\r\n\r\n              </div>\r\n            ) : (\r\n                <div className=\"imageUploadBtn\">\r\n                  <IconButton onClick={this.handleOpenInput}>\r\n                    <ImageIcon fontSize=\"large\" />\r\n                  </IconButton>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"imageInput\"\r\n                    hidden=\"hidden\"\r\n                    onChange={this.handleImageUpload}\r\n                  />{\" \"}\r\n                  <br></br>\r\n                  <Typography variant=\"button\">Upload up to 4 images</Typography>\r\n                </div>\r\n              )}\r\n          </div>\r\n\r\n          <Tooltip placement=\"left\" title=\"Upload\">\r\n            <IconButton\r\n              onClick={this.handleSubmit}\r\n              type=\"submit\"\r\n              style={{\r\n                backgroundColor: \"#ebebeb\",\r\n                float: \"right\",\r\n                marginTop: \"5px\"\r\n              }}\r\n              disabled={loading}\r\n            >\r\n              <PublishIcon color=\"primary\" />\r\n              {loading && (\r\n                <CircularProgress size={50} className={classes.progress} />\r\n              )}\r\n            </IconButton>\r\n          </Tooltip>\r\n          <div style={{ clear: \"both\" }}></div>\r\n\r\n        </Paper>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nupload.propTypes = {\r\n  postPost: PropTypes.func.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  uploadPostImage: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  UI: state.UI\r\n});\r\n\r\nexport default connect(mapStateToProps, { postPost, uploadPostImage })(\r\n  withStyles(styles)(withSnackbar(upload))\r\n);\r\n","import React, { Component, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { extend } from \"dayjs\";\r\nimport axios from \"axios\";\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport { connect } from \"react-redux\";\r\nimport { editUserDetails } from \"../redux/actions/userActions\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\n\r\nclass FormDialog extends Component {\r\n  state = {\r\n    bio: \"\",\r\n    location: \"\",\r\n    open: false\r\n  };\r\n\r\n  mapUserDetailsToState = credentials => {\r\n    this.setState({\r\n      bio: credentials.bio ? credentials.bio : \"\",\r\n      location: credentials.location ? credentials.location : \"\"\r\n    });\r\n  };\r\n\r\n  submit = () => {\r\n    const userDetails = {\r\n      bio: this.state.bio,\r\n      location: this.state.location,\r\n    };\r\n\r\n    this.props.editUserDetails(userDetails);\r\n    this.handleClose();\r\n  }\r\n  \r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ open: true });\r\n    this.mapUserDetailsToState(this.props.credentials);\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { credentials} = this.props;\r\n    this.mapUserDetailsToState(credentials);\r\n  }\r\n\r\n  \r\n  \r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Tooltip title=\"Edit profile\" placement=\"left\">\r\n          <EditIcon\r\n            color=\"primary\"\r\n            onClick={this.handleOpen}\r\n            className=\"editIco\"\r\n          />\r\n        </Tooltip>\r\n\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Edit your profile details</DialogTitle>\r\n          <form> \r\n          <DialogContent>\r\n            <DialogContentText>\r\n              This is the place where you can change information about your\r\n              profile.\r\n            </DialogContentText>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              id=\"bio\"\r\n              label=\"Bio\"\r\n              value={this.state.bio}\r\n             // onChange={this.handleChange}\r\n              \r\n             onChange={e => this.onBioChange(e.target.value)}\r\n             type=\"text\"\r\n              fullWidth\r\n              multiline=\"true\"\r\n              rows=\"3\"\r\n              rowsMax=\"4\"\r\n              inputProps={{ maxLength: 150 }}\r\n            />\r\n\r\n            <TextField\r\n              variant=\"outlined\"\r\n             \r\n              margin=\"dense\"\r\n              id=\"location\"\r\n              label=\"Location\"\r\n              type=\"text\"\r\n              value={this.state.location}\r\n             // onChange={this.handleChange}\r\n             onChange={e => this.onLocChange(e.target.value)}\r\n             \r\n             fullWidth\r\n              multiline=\"true\"\r\n              \r\n              inputProps={{ maxLength: 30 }}\r\n            />\r\n          </DialogContent>\r\n          </form>\r\n          <DialogActions>\r\n            <IconButton\r\n              variant=\"contained\"\r\n              onClick={this.handleClose}\r\n              color=\"primary\"\r\n            >\r\n             <CloseIcon></CloseIcon>\r\n            </IconButton>\r\n\r\n            <IconButton variant=\"contained\" onClick={this.submit} color=\"primary\">\r\n              <DoneIcon></DoneIcon>\r\n            </IconButton>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n  onLocChange(value){\r\n    this.setState({\r\n         location: value\r\n    });\r\n}\r\nonBioChange(value){\r\n  this.setState({\r\n       bio: value\r\n  });\r\n}\r\n\r\n}\r\n\r\nFormDialog.propTypes = {\r\n  editUserDetails: PropTypes.func.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n \r\n};\r\nconst mapStateToProps = state => ({\r\n  credentials: state.user.credentials,\r\n  \r\n});\r\n\r\nexport default connect(mapStateToProps, { editUserDetails })(FormDialog);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  close: {\r\n    padding: theme.spacing(0.5),\r\n  },\r\n}));\r\n\r\nexport default function SimpleSnackbar(value) {\r\n\r\n    const val = value;\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n        ContentProps={{\r\n          'aria-describedby': 'message-id',\r\n        }}\r\n        message={<span id=\"message-id\">{val.text}</span>}\r\n        action={[\r\n          <Button key=\"undo\" color=\"secondary\" size=\"small\" onClick={handleClose}>\r\n            UNDO\r\n          </Button>,\r\n          <IconButton\r\n            key=\"close\"\r\n            aria-label=\"close\"\r\n            color=\"inherit\"\r\n            className={classes.close}\r\n            onClick={handleClose}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>,\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n}","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { connect } from \"react-redux\";\r\n//MUI\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport Post from \"../components/post\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport axios from \"axios\";\r\nimport { isAbsolute } from \"path\";\r\nimport dayjs from \"dayjs\";\r\nimport theTime from \"dayjs/plugin/advancedFormat\";\r\n\r\nimport Dialog from \"../components/dialog_change\";\r\n\r\nimport { logoutUser, uploadImage } from '../redux/actions/userActions';\r\nimport Snackbar from '../components/snackbar';\r\n\r\n\r\n//icons\r\nimport Location from \"@material-ui/icons/LocationOn\";\r\nimport EventIcon from \"@material-ui/icons/Event\";\r\nimport FireplaceIcon from \"@material-ui/icons/Fireplace\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\n\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { height } from \"@material-ui/system\";\r\nimport { withSnackbar } from 'notistack';\r\n\r\nimport { getPosts, loadMorePosts, synchronizePosts } from '../redux/actions/dataActions'\r\nimport { Waypoint } from 'react-waypoint';\r\n\r\n\r\n\r\nconst styles = {\r\n  paper: {\r\n    padding: \"20px\"\r\n  },\r\n\r\n  left: {\r\n    maxWidth: 300,\r\n    display: \"inline-flex\",\r\n    verticalAlign: \"middle\",\r\n    lineHeight: 1.8\r\n  },\r\n  profilePosts: {\r\n    marginTop: 20\r\n  },\r\n  icoMargin: {\r\n    marginRight: 5\r\n  },\r\n\r\n  editIco: {\r\n    display: \"inline-flex\",\r\n    verticalAlign: \"middle\",\r\n    lineHeight: 1.5,\r\n    height: 20,\r\n    marginLeft: 5\r\n  }\r\n};\r\n\r\nexport class profile extends Component {\r\n  handleImageChange = (event) => {\r\n    const image = event.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append('image', image, image.name);\r\n\r\n\r\n    const isType = (image.type);\r\n    if (isType === \"image/png\" || isType === \"image/jpg\" || isType === \"image/jpeg\" || isType === \"image/bmp\") {\r\n\r\n\r\n\r\n      if (image.size < 5000000) {\r\n\r\n        this.props.uploadImage(formData);\r\n\r\n      } else {\r\n\r\n        this.props.enqueueSnackbar(`Selected file is too big (Max. 5MB)`, {\r\n          preventDuplicate: true,\r\n          variant: \"error\",\r\n          autoHideDuration: 5000,\r\n\r\n        });\r\n\r\n      }\r\n    } else {\r\n\r\n      this.props.enqueueSnackbar(`Invalid file type`, {\r\n        preventDuplicate: true,\r\n        variant: \"error\",\r\n        autoHideDuration: 3000,\r\n\r\n      });\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  loadMorePosts = () => {\r\n\r\n\r\n\r\n\r\n\r\n    this.props.loadMorePosts([], [], false);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  handleEditPicture = () => {\r\n    const fileInput = document.getElementById('imageInput');\r\n    fileInput.click();\r\n  }\r\n\r\n\r\n\r\n\r\n  componentDidUpdate(prevProps) {\r\n\r\n\r\n    if (!this.props.data.noMore && this.props.data.backupdata !== prevProps.data.backupdata) {\r\n      let filtered = this.props.data.posts.filter(element => {\r\n        return element.userHandle === this.props.user.credentials.handle\r\n      })\r\n\r\n\r\n      if (filtered.length <= 5) {\r\n        console.log(\"przeszo\")\r\n\r\n        this.loadMorePosts()\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.data.noMore) this.props.getPosts();\r\n    if (!this.props.data.noMore && this.props.data.posts.length !== this.props.data.backupdata.length) this.props.getPosts();\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    dayjs.extend(theTime);\r\n\r\n    let recentPostsMarkup = this.props.data.posts ? (\r\n      this.props.data.posts.map(post =>\r\n        (post.userHandle === this.props.user.credentials.handle) ?\r\n          <Post key={post.postId} post={post} /> : null\r\n      )\r\n    ) : (\r\n        null\r\n      );\r\n\r\n    const {\r\n      classes,\r\n      user: {\r\n        credentials: { handle, createdAt, imageUrl, bio, location, reputation },\r\n        loading,\r\n        authenticated\r\n      },\r\n    } = this.props;\r\n\r\n    let profileMarkup = !loading ? (\r\n      authenticated ? (\r\n        <div class=\"main-content-squeezed\">\r\n          <Paper className={classes.paper}>\r\n            <div className=\"profile-av\">\r\n\r\n\r\n              <div className=\"container1\">\r\n\r\n                <Avatar alt={handle} src={imageUrl} className=\"bigAvatar-scss\" />\r\n\r\n                <div className=\"overlay1\">\r\n\r\n                  <IconButton onClick={this.handleEditPicture} className=\"icon1\" >\r\n                    <PublishIcon fontSize=\"large\" color=\"primary\" />\r\n                  </IconButton>\r\n                  <input type=\"file\" id=\"imageInput\" hidden=\"hidden\" onChange={this.handleImageChange} />\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <Typography variant=\"h5\"> {handle}</Typography>\r\n\r\n              <div className=\"profile-ainfo\">\r\n                <Typography className={classes.left} variant=\"body2\">\r\n                  {\" \"}\r\n                  <Tooltip title=\"Location\" placement=\"left\">\r\n                    <Location color=\"primary\"></Location>\r\n                  </Tooltip>\r\n                  <div className={classes.icoMargin} /> {location}{\" \"}\r\n                </Typography>\r\n                <br></br>\r\n\r\n                <Typography className={classes.left} variant=\"body2\">\r\n                  {\" \"}\r\n                  <Tooltip title=\"Account created\" placement=\"left\">\r\n                    <EventIcon color=\"primary\"></EventIcon>\r\n                  </Tooltip>\r\n                </Typography>\r\n                <br></br>\r\n\r\n                <Typography className={classes.left} variant=\"body2\">\r\n                  {\" \"}\r\n                  <Tooltip title=\"Reputation\" placement=\"left\">\r\n                    <FireplaceIcon color=\"primary\"></FireplaceIcon>\r\n                  </Tooltip>{\" \"}\r\n                  <div className={classes.icoMargin} /> {reputation}{\" \"}\r\n                </Typography>\r\n              </div>\r\n            </div>\r\n\r\n            <Typography className=\"profile-bio\" variant=\"body2\">\r\n              {\" \"}\r\n              {bio}{\" \"}\r\n            </Typography>\r\n\r\n            <Dialog />\r\n\r\n          </Paper>\r\n\r\n          <div className={classes.profilePosts}>\r\n\r\n            {recentPostsMarkup}\r\n            <div className=\"infinite-scroll-example__waypoint\">\r\n              {!this.props.data.noMore ? <Waypoint\r\n                bottomOffset={0}\r\n                scrollableAncestor=\"window\"\r\n                onEnter={\r\n\r\n                  this.loadMorePosts\r\n\r\n                }\r\n              /> : null}\r\n              {!loading ? this.props.data.noMore ? null : (<div className=\"post-margin\"><center>\r\n                <LinearProgress color=\"primary\" style={{ width: \"100%\" }} /></center></div>) : null}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      ) : (\r\n          <center> <p>You need to be logged in to see this page</p> </center>\r\n        )\r\n    ) : (\r\n\r\n        <div class=\"main-content-squeezed\">\r\n          <LinearProgress color=\"primary\" />\r\n        </div>\r\n      );\r\n\r\n    return profileMarkup;\r\n  }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user,\r\n  UI: state.ui,\r\n  data: state.data\r\n});\r\n\r\nconst mapActionsToProps = { logoutUser, uploadImage, getPosts, loadMorePosts, synchronizePosts }\r\n\r\nprofile.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  classes: PropTypes.object.isRequired,\r\n  logoutUser: PropTypes.func.isRequired,\r\n  uploadImage: PropTypes.func.isRequired,\r\n  synchronizePosts: PropTypes.func.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  getPosts: PropTypes.func.isRequired,\r\n  loadMorePosts: PropTypes.func.isRequired,\r\n  onEnter: PropTypes.func,\r\n  bottomOffset: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n  scrollableAncestor: PropTypes.any,\r\n\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(withSnackbar(profile)));\r\n","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\n//Material-UI imports\r\n\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { NONAME } from \"dns\";\r\n\r\n\r\n\r\nconst styles = {\r\n    card: {\r\n        display: \"flex\"\r\n    },\r\n\r\n\r\n};\r\n\r\nclass EditRequestList extends Component {\r\n\r\n\r\n    render() {\r\n\r\n\r\n\r\n        dayjs.extend(relativeTime);\r\n        const {\r\n            classes,\r\n            post: {\r\n                title,\r\n                userHandle,\r\n                createdAt,\r\n                id\r\n            }\r\n        } = this.props;\r\n\r\n\r\n\r\n        return (\r\n\r\n\r\n\r\n            <div className=\"post-margin-edit\">\r\n                <Card>\r\n\r\n                    <CardContent>\r\n                        <Typography\r\n                            className=\"post-title\"\r\n                            component={Link}\r\n                            to={`/editRequests/${id}`}\r\n                            variant=\"h6\"\r\n                        >\r\n                            {title}\r\n                        </Typography>\r\n\r\n\r\n\r\n                        <div className=\"post-userhandle\">\r\n                            <Typography\r\n                                component={Link}\r\n                                to={`/users/${userHandle}`}\r\n                                variant=\"overline\"\r\n                                color=\"inherit\"\r\n                            >\r\n                                {userHandle}\r\n                            </Typography>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(EditRequestList);\r\n","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\nimport Post from '../components/post';\r\nimport EditRequestList from '../components/editRequestList';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\n// MUI Stuff\r\n\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { Waypoint } from 'react-waypoint';\r\nimport { getUnapprovedPosts, loadMorePosts, filterPosts } from '../redux/actions/dataActions'\r\nimport { withSnackbar } from 'notistack';\r\n\r\n\r\nconst styles = {\r\n  textField: {\r\n    marginBottom: \"13px\",\r\n    marginTop: \"2px\"\r\n  },\r\n  custError: {\r\n    color: \"green\",\r\n    fontSize: \"0.9rem\"\r\n  },\r\n  button: {\r\n    marginTop: \"25px\",\r\n    position: \"relative\"\r\n  },\r\n  info: {\r\n    textAlign: \"center\",\r\n    color: \"red\",\r\n    fontSize: \"0.9rem\"\r\n  }\r\n};\r\n\r\nclass admin extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      loadingLocal: false,\r\n      errors: {},\r\n      success: \"\",\r\n      posts: null,\r\n      editReq: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.props.getUnapprovedPosts();\r\n\r\n    axios.get(\"/getEditRequests\").then(res => {\r\n      console.log(res.data);\r\n      this.setState({\r\n        editReq: res.data\r\n      })\r\n    }).catch(err => { console.log(err) })\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n    if (prevProps.UI.success !== this.props.UI.success && this.props.UI.success === \"Post approved\") {\r\n      this.props.enqueueSnackbar('Post successfully approved', {\r\n        variant: \"success\",\r\n        autoHideDuration: 3000,\r\n\r\n      });\r\n    }\r\n\r\n    if (prevProps.UI.errors !== this.props.UI.errors && this.props.UI.errors === \"Post already approved\") {\r\n      this.props.enqueueSnackbar(\"Post already approved\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 3000,\r\n\r\n      });\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({\r\n      loadingLocal: true,\r\n      errors: {},\r\n      success: \"\"\r\n    });\r\n    console.log(this.state.email);\r\n\r\n    const userData = {\r\n      body: this.state.email\r\n    };\r\n\r\n    axios\r\n      .post(\"/admin/add\", userData)\r\n      .then(res => {\r\n        this.setState({\r\n          loadingLocal: false,\r\n          errors: {},\r\n          success: \"Privileges added successfully!\"\r\n        });\r\n\r\n        console.log(this.state.success);\r\n      })\r\n      .catch(err => {\r\n        console.log(err.response.data);\r\n        this.setState({\r\n          errors: err.response.data,\r\n          loadingLocal: false\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      user: { adminPrivileges, loading }\r\n    } = this.props;\r\n    const { errors, loadingLocal, success } = this.state;\r\n\r\n\r\n    let recentPostsMarkup = this.props.data.admin.unapprovedPosts ? (\r\n      this.props.data.admin.unapprovedPosts.map((post) => <Post key={post.postId} post={post} />)\r\n    ) : (<div><center>\r\n      <CircularProgress color=\"primary\" /></center></div>);\r\n\r\n\r\n\r\n    let editRequests = (this.state.editReq && this.state.editReq.error === undefined) ? (\r\n      this.state.editReq.map((req) => <EditRequestList key={req.id} post={req} />)\r\n    ) : (<div><center>\r\n      <CircularProgress color=\"primary\" /></center></div>);\r\n\r\n    if (this.state.editReq && typeof this.state.editReq.error !== \"undefined\" && typeof this.state.editReq.error !== \"null\") {\r\n      editRequests = <p>{this.state.editReq.error}</p>\r\n    }\r\n\r\n\r\n\r\n    return (\r\n      <div className=\"main-content\">\r\n\r\n\r\n        {(!loading ? (\r\n          adminPrivileges ? (\r\n            // Tu zacz jakie komponenty \r\n            <Grid container spacing={16}>\r\n              <Grid item sm={9} xs={12}>\r\n                <h1> Unapproved posts: </h1>\r\n                {recentPostsMarkup}\r\n              </Grid>\r\n\r\n              <Grid item sm={3} xs={12}>\r\n                <h1> Admin tools : </h1>\r\n                <h3> Make admin: </h3>\r\n                <form noValidate autoComplete=\"off\" onSubmit={this.handleSubmit}>\r\n                  <TextField\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    label=\"Email\"\r\n                    helperText={errors.general}\r\n                    error={errors.general ? true : false}\r\n                    className={classes.TextField}\r\n                    value={this.state.email}\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                  />\r\n\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={loadingLocal}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                  >\r\n                    Submit\r\n                  {loadingLocal && (\r\n                      <CircularProgress size={30} className={classes.progress} />\r\n                    )}\r\n                  </Button>\r\n                  {success.length > 0 && (\r\n                    <Typography className={classes.custError}>\r\n                      {this.state.success}\r\n                    </Typography>\r\n                  )}\r\n                </form>\r\n\r\n                <h3> Pending edit requests: </h3>\r\n\r\n\r\n\r\n\r\n                <div style={{ maxHeight: 350, overflow: 'auto' }}>\r\n                  <List>\r\n                    {editRequests}\r\n                  </List>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n              </Grid>\r\n            </Grid>\r\n\r\n          ) : (\r\n              <Typography className={classes.info}>\r\n                Admin privileges required\r\n          </Typography>\r\n            )) : <div>\r\n            <center>\r\n              <CircularProgress color=\"primary\" />\r\n            </center>\r\n          </div>)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nadmin.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  getUnapprovedPosts: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  data: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user,\r\n  UI: state.UI,\r\n  data: state.data\r\n});\r\n\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getUnapprovedPosts }\r\n)(withStyles(styles)(withSnackbar(admin)));\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport default function ResponsiveDialog(value) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('xl'));\r\n\r\n  const _imgURL = value;\r\n\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n\r\n\r\n\r\n      <div id=\"DialogIMG-btn\" onClick={handleClickOpen} className=\"DialogIMG-btn\" style={{ backgroundImage: `url('${_imgURL.value}')` }} >\r\n\r\n      </div>\r\n\r\n      <Dialog\r\n        fullScreen={fullScreen}\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"responsive-dialog-title\"\r\n        className=\"DialogIMG\"\r\n      >\r\n\r\n        <DialogContent>\r\n          <div className=\"DialogIMG-imgcontainer\">\r\n            <img className=\"DialogIMG-img\" src={_imgURL.value}></img>\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n\r\n          <IconButton onClick={handleClose} className=\"DialogIMG-closeBTN\">\r\n            <CloseIcon style={{ color: \"white\" }} fontSize=\"large\" />\r\n          </IconButton>\r\n\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {deleteComment} from '../redux/actions/dataActions';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nexport class delete_comment extends Component {\r\n   \r\n    handleCommentDelete = () => {\r\n        this.props.deleteComment(this.props.comId);\r\n        //console.log(comId);\r\n        console.log(this.props.comId);\r\n      };\r\n\r\n    render() {\r\n\r\n        const {comId} = this.props;\r\n\r\n        return (\r\n            <IconButton onClick={this.handleCommentDelete}  style={{ backgroundColor: 'transparent', padding: \"0px\"}}>\r\n                        <DeleteOutlineIcon className=\"comment-del-icon\"  />\r\n            </IconButton>   \r\n        )\r\n    }\r\n}\r\n\r\ndelete_comment.propTypes = {\r\n    comId: PropTypes.string.isRequired,\r\n    deleteComment: PropTypes.func.isRequired,\r\n\r\n}\r\n\r\n\r\n\r\nexport default connect(null, {deleteComment})(delete_comment)\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport dayjs from \"dayjs\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport DeleteComment from './delete_comment';\r\n\r\nexport class comments extends Component {\r\n  \r\n  \r\n  \r\n  render() {\r\n    dayjs.extend(relativeTime);\r\n    const { comments, currentUserHandle } = this.props;\r\n    return (\r\n      <div>\r\n        {comments ? (\r\n          <Grid id=\"comments-container\" container>\r\n            {comments.map(comment => {\r\n              const { body, createdAt, userImage, userHandle, id } = comment;\r\n              return (\r\n                <Paper\r\n                  style={{ width: \"100%\", marginTop: \"10px\" }}\r\n                  key={id}\r\n                >\r\n                  <div className=\"comment-display\">\r\n                    <div className=\"comment-info\">\r\n                      <Avatar src={userImage}\r\n                      component={Link}\r\n                      to={\r\n                        userHandle === currentUserHandle\r\n                          ? `/user`\r\n                          : `/users/${userHandle}`\r\n                      }\r\n                      />\r\n\r\n                      <Typography\r\n                        variant=\"caption\"\r\n                        component={Link}\r\n                        to={\r\n                          userHandle === currentUserHandle\r\n                            ? `/user`\r\n                            : `/users/${userHandle}`\r\n                        }\r\n                      >\r\n                        {userHandle}\r\n                      </Typography>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        borderLeft: \"1px solid #00000023\",\r\n                        height: \"inherit\",\r\n                        marginRight: \"10px\"\r\n                      }}\r\n                    ></div>\r\n                    <div className=\"comment-body\">\r\n                      <Typography \r\n                      style={{\r\n                        marginBottom: \"20px\"\r\n                      }}\r\n                      variant=\"body2\">{body}</Typography>\r\n                      <div style={{\r\n                        //float: \"right\"\r\n                        position: \"absolute\",\r\n                        right: \"7px\",\r\n                        bottom: \"3px\",\r\n                        marginTop: \"15px\"\r\n                      }}> \r\n                      <Tooltip\r\n                        placement=\"left\"\r\n                        title={dayjs(createdAt).format(\"YYYY.MM.DD HH:mm\")}\r\n                      >\r\n                        <Typography\r\n                          style={{ marginRight:\"5px\" }}\r\n                          variant=\"caption\"\r\n                        >\r\n                          {dayjs(createdAt).fromNow()}\r\n                        </Typography>\r\n                      </Tooltip>\r\n\r\n                      {currentUserHandle === userHandle ? (\r\n\r\n                             <DeleteComment comId={id} />              \r\n\r\n                      ) : null}\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Paper>\r\n              );\r\n            })}\r\n          </Grid>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\ncomments.propTypes = {\r\n  comments: PropTypes.array.isRequired,\r\n\r\n};\r\n\r\nexport default comments;\r\n","import React, { Component } from 'react'\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Paper from '@material-ui/core/Paper'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport { withSnackbar } from \"notistack\";\r\nimport {connect} from 'react-redux';\r\nimport {submitComment} from '../redux/actions/dataActions'\r\n\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\nexport class comment_input extends Component {\r\n    state = {\r\n        errors: {},\r\n\r\n    }\r\n    \r\n    handleChange = event => {\r\n        this.setState({\r\n          [event.target.name]: event.target.value\r\n        });\r\n        \r\n        event.target.parentElement.parentElement.querySelector(\"p\").innerHTML =\r\n          event.target.value.toString().length + \"/\" + event.target.maxLength;\r\n      };\r\n\r\n      handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if(document.getElementById(\"commentField\").value.length !== 0) {\r\n        this.props.submitComment(this.props.postId, {body: this.state.commentBody});\r\n        document.getElementById(\"commentField\").value = \"\";\r\n        document.getElementById(\"commentField-helper-text\").innerHTML = \"0/1000\";\r\n    } else {\r\n        this.props.enqueueSnackbar(`Comment cannot be empty`, {\r\n            preventDuplicate: true,\r\n            variant: \"error\",\r\n            autoHideDuration: 2000\r\n          });\r\n    }\r\n    \r\n    }\r\n    \r\n    render() {\r\n        const{authenticated} = this.props;\r\n        const errors = this.state.errors;\r\n        return (\r\n\r\n            (authenticated ? (\r\n\r\n            <Paper\r\n            style={{\r\n                padding: \"7px\",\r\n                marginTop: \"20px\",\r\n            }}\r\n            >\r\n\r\n            <div className=\"comment-inputfield\">\r\n            <TextField \r\n            \r\n            fullWidth name=\"commentBody\" helperText=\"0/1000\" rowsMax=\"8\" multiline=\"true\" onChange={this.handleChange} inputProps={{ maxLength: 1000 }} id=\"commentField\" variant=\"outlined\" /> \r\n            <IconButton\r\n            style={{\r\n                marginLeft: \"7px\",\r\n                width: \"50px\",\r\n                height: \"50px\"\r\n            }}\r\n            onClick={this.handleSubmit}\r\n\r\n            >\r\n            <SendIcon />\r\n            </IconButton>\r\n\r\n            </div>\r\n            </Paper>\r\n\r\n            ) : null)\r\n\r\n            \r\n        )\r\n    }\r\n}\r\n\r\ncomment_input.propTypes= {\r\n    submitComment: PropTypes.func.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    postId: PropTypes.string.isRequired,\r\n    authenticated: PropTypes.bool.isRequired,\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    UI: state.submitComment,\r\n    authenticated: state.user.authenticated,\r\n\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {submitComment})(withSnackbar(comment_input));\r\n","import React, { Component } from 'react'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nexport class notFound extends Component {\r\n    render() {\r\n        \r\n\r\n        return (\r\n            <div className=\"main-content-squeezed\">\r\n              <div style={{height: \"200px\"}}></div>\r\n                  <div>  \r\n                              \r\n                                <div className=\"notfoundflex\">\r\n                                <Typography color=\"primary\" variant=\"h1\">\r\n                                404\r\n                                </Typography>\r\n                                \r\n                                <div>\r\n                                <Typography color=\"secondary\" variant=\"button\">\r\n                                Page not found\r\n                                </Typography>\r\n                                <Typography color=\"primary\" variant=\"body2\">\r\n                                    This is not the page you are looking for!\r\n                                </Typography>\r\n                                </div>\r\n            \r\n                                </div>\r\n                                </div>\r\n                            \r\n                        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default notFound\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { connect } from \"react-redux\";\r\nimport { getPost } from \"../redux/actions/dataActions\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\r\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\r\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport { withSnackbar } from 'notistack';\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\r\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\r\nimport CropFreeIcon from \"@material-ui/icons/CropFree\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Highlight from \"react-highlight.js\";\r\nimport DialogIMG from \"../components/dialog_img\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport LikedIcon from '@material-ui/icons/Favorite';\r\nimport LikeIcon from '@material-ui/icons/FavoriteBorder';\r\nimport { likePost, unlikePost } from '../redux/actions/dataActions'\r\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\"\r\nimport Comments from '../components/comments'\r\nimport CommentInput from '../components/comment_input'\r\nimport NotFound from './notFound'\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport DeletePost from '../components/delete_post'\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\n\r\n\r\n\r\nconst styles = {\r\n  paper: {\r\n    padding: \"20px\"\r\n  },\r\n  marginUni: {\r\n    marginBottom: \"10px\"\r\n  },\r\n  expansion: {\r\n    margin: \"-20px\"\r\n  },\r\n  heading: {\r\n    fontSize: \"1.7rem\"\r\n  }\r\n};\r\n\r\nexport class posts extends Component {\r\n  state = {\r\n    postId: \"\",\r\n    expanded: false,\r\n    expandedC: false,\r\n\r\n    alignment: \"\",\r\n    currentCode: \"java\",\r\n    img: []\r\n  };\r\n\r\n  handleAlignment = event => {\r\n    this.setState({ alignment: event.currentTarget.value });\r\n\r\n    if (event.currentTarget.value == \"js\") {\r\n      //document.getElementById(\"codeBoxing\").innerHTML = this.props.post.java;\r\n      //console.log(this.state.javaCode);\r\n      this.setState({\r\n        currentCode: \"java\"\r\n      });\r\n    }\r\n\r\n    if (event.currentTarget.value == \"py\") {\r\n      //document.getElementById(\"codeBoxing\").innerHTML = this.props.post.python;\r\n      // console.log(this.state.pythonCode);\r\n\r\n      this.setState({\r\n        currentCode: \"python\"\r\n      });\r\n    }\r\n\r\n    if (event.currentTarget.value == \"cpp\") {\r\n      //document.getElementById(\"codeBoxing\").innerHTML = this.props.post.cpp;\r\n      // console.log(this.state.cppCode);\r\n      this.setState({\r\n        currentCode: \"cpp\"\r\n      });\r\n    }\r\n  };\r\n\r\n  handleEdit = () => {\r\n    let str = this.props.location.pathname;\r\n    let arr = str.split(\"/\");\r\n    let loc = arr[2];\r\n    this.props.history.push('/editPost/' + loc)\r\n  }\r\n\r\n  handleExpand = () => {\r\n\r\n    if (this.state.expandedC == false) {\r\n      document.getElementById(\"codeBox\").classList.add(\"blackBoxExpanded\");\r\n      this.setState({ expandedC: true });\r\n    }\r\n    if (this.state.expandedC == true) {\r\n      document.getElementById(\"codeBox\").classList.remove(\"blackBoxExpanded\");\r\n\r\n      this.setState({ expandedC: false });\r\n    }\r\n  };\r\n\r\n  likedPost = () => {\r\n    if (this.props.user.likes && this.props.user.likes.find(like => like.postId === this.props.post.postId)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  likePost = () => {\r\n    this.props.likePost(this.props.post.postId);\r\n  }\r\n  unlikePost = () => {\r\n    this.props.unlikePost(this.props.post.postId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let str = this.props.location.pathname;\r\n    let arr = str.split(\"/\");\r\n    let loc = arr[2];\r\n    if (arr[1] === \"posts\" && arr[2] !== \"logo192.png\") this.props.getPost(loc);\r\n\r\n\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevprops) {\r\n    if (prevprops.UI.errors !== this.props.UI.errors && this.props.UI.errors.status === 404) {\r\n      console.log(\"Post not found, redirecting...\");\r\n    }\r\n\r\n    if (prevprops.UI.success !== this.props.UI.success && this.props.UI.success === \"Deleted succesfully\") {\r\n      this.props.enqueueSnackbar('Deleted succesfully', {\r\n        preventDuplicate: true,\r\n        variant: \"success\",\r\n        autoHideDuration: 3000,\r\n\r\n      });\r\n\r\n      this.props.history.push(\"/\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      post: {\r\n        postId,\r\n        createdAt,\r\n        shortDesc,\r\n        desc,\r\n        title,\r\n        userHandle,\r\n        userImage,\r\n        commentCount,\r\n        likeCount,\r\n        java,\r\n        python,\r\n        cpp,\r\n        comments,\r\n        categories,\r\n        images\r\n      },\r\n      user: {\r\n        credentials: { handle },\r\n        authenticated\r\n      },\r\n      UI: { loading }\r\n    } = this.props;\r\n\r\n    const deleteButton = (authenticated && userHandle === handle) || (authenticated && this.props.user.adminPrivileges) ? (\r\n\r\n      <DeletePost postId={postId} />\r\n\r\n    ) : null\r\n\r\n\r\n    const editButton = (authenticated) ? (\r\n      <Tooltip title={userHandle === handle || this.props.user.adminPrivileges ? \"Edit post\" : \"Create edit request\"} placement=\"top\">\r\n        <IconButton onClick={this.handleEdit}\r\n        >\r\n\r\n          <EditIcon color=\"primary\" />\r\n\r\n        </IconButton>\r\n      </Tooltip>\r\n    ) : null\r\n\r\n\r\n    dayjs.extend(relativeTime);\r\n\r\n\r\n    const likeButton = !authenticated ? (\r\n      <IconButton style={{ backgroundColor: 'transparent', marginRight: '-12px' }} component={Link} to=\"/login\" >\r\n        <LikeIcon color=\"primary\" />\r\n      </IconButton>\r\n    ) : (\r\n        this.likedPost() ? (\r\n          <IconButton style={{ backgroundColor: 'transparent', marginRight: '-12px' }} onClick={this.unlikePost} >\r\n            <LikedIcon color=\"primary\" />\r\n          </IconButton>\r\n        ) : (\r\n\r\n            <IconButton style={{ backgroundColor: 'transparent', marginRight: '-12px' }} onClick={this.likePost} >\r\n              <LikeIcon color=\"primary\" />\r\n            </IconButton>\r\n\r\n          )\r\n      )\r\n\r\n\r\n    const handleChangePanel = event => {\r\n      var ex = this.state.expanded;\r\n      this.setState({\r\n        expanded: !ex\r\n      });\r\n    };\r\n\r\n    const scrolltocomment = () => {\r\n      window.scrollTo(0, document.getElementById(\"commentWaypoint\").offsetTop);\r\n    }\r\n\r\n    return (\r\n\r\n\r\n      <div className=\"main-content-squeezed\">\r\n\r\n        {!loading && !this.props.UI.errors ? (\r\n          <div>\r\n            <Paper className={classes.paper}>\r\n              <ExpansionPanel\r\n                className={classes.expansion}\r\n                expanded={this.state.expanded}\r\n                onChange={handleChangePanel}\r\n              >\r\n                <ExpansionPanelSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1bh-content\"\r\n                  id=\"panel1bh-header\"\r\n                >\r\n                  <Typography color=\"primary\" className={classes.heading}>\r\n                    {title}\r\n                  </Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                  <Typography className={classes.marginUni} variant=\"body1\">\r\n                    {shortDesc}\r\n                  </Typography>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n\r\n              <div className=\"prev-userhandle\">\r\n                <div className=\"prev-avNhandle\">\r\n                  <Avatar src={userImage} style={{ width: \"30px\", height: \"30px\" }} component={Link}\r\n                    to={\r\n                      !loading\r\n                        ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                          ? `/user`\r\n                          : `/users/${userHandle}`\r\n                        : null\r\n                    } />\r\n                  <Typography style={{ marginLeft: \"5px\" }}\r\n                    component={Link}\r\n                    to={\r\n                      !loading\r\n                        ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                          ? `/user`\r\n                          : `/users/${userHandle}`\r\n                        : null\r\n                    }\r\n                    variant=\"caption\"\r\n                  >\r\n                    {userHandle}\r\n\r\n                  </Typography>\r\n                </div>\r\n\r\n                <div>\r\n\r\n                  {likeButton}  <Typography variant=\"caption\" color=\"inherit\">\r\n                    {likeCount}\r\n                  </Typography>\r\n\r\n\r\n\r\n\r\n                  <IconButton\r\n\r\n                    style={{ backgroundColor: 'transparent', marginRight: '-8px', marginTop: \"3px\", }}\r\n                    onClick={\r\n\r\n\r\n                      scrolltocomment\r\n\r\n\r\n\r\n                    }\r\n                  >\r\n\r\n\r\n                    <ChatBubbleOutlineIcon color=\"primary\"></ChatBubbleOutlineIcon>\r\n                  </IconButton>\r\n\r\n\r\n                  <Typography variant=\"caption\" color=\"inherit\">\r\n                    {commentCount}\r\n                  </Typography>\r\n\r\n                </div>\r\n\r\n\r\n\r\n                <Tooltip\r\n                  placement=\"left\"\r\n                  title={dayjs(createdAt).format(\"YYYY.MM.DD HH:mm\")}\r\n                >\r\n                  <Typography\r\n                    style={{ float: \"right\" }}\r\n                    variant=\"caption\"\r\n                  >\r\n                    {dayjs(createdAt).fromNow()}\r\n                  </Typography>\r\n                </Tooltip>\r\n\r\n              </div>\r\n\r\n\r\n\r\n              <div style={{ clear: \"both\" }}></div>\r\n\r\n              <Typography\r\n                style={{ marginTop: \"15px\", marginBottom: \"25px\" }}\r\n                variant=\"body2\"\r\n              >\r\n                {desc}\r\n              </Typography>\r\n\r\n              {this.props.post.java ||\r\n                this.props.post.cpp ||\r\n                this.props.post.python ? (\r\n                  <div>\r\n                    <Grid container spacing={1}>\r\n                      <Grid item sm={12} md={12}>\r\n                        <div className=\"codeBoxNav\">\r\n                          <ToggleButtonGroup\r\n                            value={this.state.alignment}\r\n                            exclusive\r\n                            onChange={this.handleAlignment}\r\n                          >\r\n                            {this.props.post.java ? (\r\n                              <ToggleButton id=\"langBTN\" value=\"js\">\r\n                                <img\r\n                                  draggable=\"false\"\r\n                                  src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/java_logo.png?alt=media&token=03067a8a-721b-4f69-ad32-ef2df63a9584\"\r\n                                  height=\"24px\"\r\n                                />\r\n                              </ToggleButton>\r\n                            ) : null}\r\n\r\n                            {this.props.post.python ? (\r\n                              <ToggleButton id=\"langBTN\" value=\"py\">\r\n                                <img\r\n                                  draggable=\"false\"\r\n                                  src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/python_logo.png?alt=media&token=7e7010bb-fa65-445d-be7a-7a429c703d2c\"\r\n                                  height=\"24px\"\r\n                                />\r\n                              </ToggleButton>\r\n                            ) : null}\r\n\r\n                            {this.props.post.cpp ? (\r\n                              <ToggleButton id=\"langBTN\" value=\"cpp\">\r\n                                <img\r\n                                  draggable=\"false\"\r\n                                  src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/cpp_logo.png?alt=media&token=8389d1bd-c9f0-4542-a274-1a33d9922e6f\"\r\n                                  height=\"24px\"\r\n                                />\r\n                              </ToggleButton>\r\n                            ) : null}\r\n                          </ToggleButtonGroup>\r\n                          <IconButton\r\n                            onClick={this.handleExpand}\r\n                            className=\"codeBoxingCrop\"\r\n                          >\r\n                            <CropFreeIcon />\r\n                          </IconButton>\r\n                          <div style={{ clear: \"both\" }}></div>\r\n                        </div>\r\n                      </Grid>\r\n                    </Grid>\r\n\r\n                    <div id=\"codeBox\" className=\"codeInputs\">\r\n                      {this.state.currentCode === \"\" ? (\r\n                        <Highlight language={\"java\"}>\r\n                          {`\r\n|===============================================|\r\n|                                               |\r\n|   /* Choose desired programming language */   |\r\n|                                               |\r\n|===============================================| `}\r\n                        </Highlight>\r\n                      ) : null}\r\n\r\n                      {this.props.post.java && this.state.currentCode === \"java\" ? (\r\n                        <Highlight language={\"java\"}>\r\n                          {this.props.post.java}\r\n                        </Highlight>\r\n                      ) : null}\r\n\r\n                      {this.props.post.python &&\r\n                        this.state.currentCode === \"python\" ? (\r\n                          <Highlight language={\"python\"}>\r\n                            {this.props.post.python}\r\n                          </Highlight>\r\n                        ) : null}\r\n\r\n                      {this.props.post.cpp && this.state.currentCode === \"cpp\" ? (\r\n                        <Highlight language={\"c++\"}>\r\n                          {this.props.post.cpp}\r\n                        </Highlight>\r\n                      ) : null}\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n\r\n              {(!this.props.UI.loading && this.props.UI.success !== null ? (\r\n                this.props.post.images\r\n              ) : null) ? (\r\n                  <div className=\"DialogIMG-flexContainer\">\r\n                    {(() => {\r\n                      const arr =\r\n                        !this.props.UI.loading && this.props.UI.success !== null\r\n                          ? this.props.post.images\r\n                          : null;\r\n\r\n                      //  console.log(arr);\r\n\r\n                      const imgs = [];\r\n\r\n                      if (arr) {\r\n                        for (\r\n                          let i = 0;\r\n                          i <\r\n                          (!this.props.UI.loading && this.props.UI.success !== null\r\n                            ? this.props.post.images.length\r\n                            : null);\r\n                          i++\r\n                        ) {\r\n                          imgs.push(\r\n                            <DialogIMG\r\n                              value={\r\n                                !this.props.UI.loading &&\r\n                                  this.props.UI.success !== null\r\n                                  ? this.props.post.images[i]\r\n                                  : null\r\n                              }\r\n                            />\r\n                          );\r\n                        }\r\n                      }\r\n                      return imgs;\r\n                    })()}\r\n\r\n\r\n                  </div>\r\n\r\n\r\n\r\n\r\n                ) : null}\r\n              {deleteButton}\r\n              {editButton}\r\n\r\n            </Paper>\r\n\r\n\r\n            <div id=\"commentWaypoint\" > </div>\r\n            <CommentInput postId={postId} />\r\n            <Comments comments={comments} currentUserHandle={this.props.user.credentials.handle} />\r\n          </div>\r\n\r\n        ) : (\r\n\r\n            (!this.props.UI.errors ? (<LinearProgress color=\"primary\" />) : <NotFound />)\r\n\r\n\r\n\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nposts.propTypes = {\r\n  getPost: PropTypes.func.isRequired,\r\n  post: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n\r\n  likePost: PropTypes.func.isRequired,\r\n  unlikePost: PropTypes.func.isRequired,\r\n\r\n  classes: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  post: state.data.post,\r\n  UI: state.UI,\r\n  user: state.user\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  getPost,\r\n  likePost,\r\n  unlikePost,\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapActionsToProps\r\n)(withStyles(styles)(withSnackbar(posts)));\r\n","import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { postPost, createEditRequest } from \"../redux/actions/dataActions\";\r\n\r\n//mui\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Redirect } from 'react-router'\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport FormatAlignLeftIcon from \"@material-ui/icons/FormatAlignLeft\";\r\nimport FormatAlignCenterIcon from \"@material-ui/icons/FormatAlignCenter\";\r\nimport FormatAlignRightIcon from \"@material-ui/icons/FormatAlignRight\";\r\nimport FormatAlignJustifyIcon from \"@material-ui/icons/FormatAlignJustify\";\r\nimport FormatBoldIcon from \"@material-ui/icons/FormatBold\";\r\nimport FormatItalicIcon from \"@material-ui/icons/FormatItalic\";\r\nimport FormatUnderlinedIcon from \"@material-ui/icons/FormatUnderlined\";\r\nimport FormatColorFillIcon from \"@material-ui/icons/FormatColorFill\";\r\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\r\nimport LikeIcon from '@material-ui/icons/FavoriteBorder';\r\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\r\nimport CropFreeIcon from \"@material-ui/icons/CropFree\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\n\r\nimport PublishIcon from \"@material-ui/icons/Publish\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport Highlight from \"react-highlight.js\";\r\nimport DialogIMG from \"../components/dialog_img\";\r\n\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport axios from 'axios';\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { uploadPostImage, uploadPostImageEdit } from \"../redux/actions/dataActions\";\r\nimport { width } from \"@material-ui/system\";\r\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\r\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\r\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\r\nimport { getPost } from \"../redux/actions/dataActions\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\n\r\nconst styles = theme => ({\r\n    paper: {\r\n        padding: \"25px\"\r\n    },\r\n\r\n    head1: {\r\n        marginBottom: \"25px\"\r\n    },\r\n    input: {\r\n        marginBottom: \"15px\"\r\n    },\r\n    blackBox: {\r\n        backgroundColor: \"#000000\",\r\n        color: \"#FFFFFF\"\r\n    },\r\n\r\n    progress: {\r\n        position: \"absolute\"\r\n    }\r\n});\r\n\r\nexport class edit extends Component {\r\n    state = {\r\n        body: \"\",\r\n        errors: {},\r\n        alignment: \"js\",\r\n        javaCode: \"\",\r\n        pythonCode: \"\",\r\n        cppCode: \"\",\r\n        expanded1: false,\r\n        expanded: false,\r\n        categories: [],\r\n        images: [],\r\n        urls: [],\r\n        formdatas: [],\r\n        sent: false,\r\n        currentCode: \"js\",\r\n        active: false,\r\n        imgOptions: \"keep\"\r\n\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        let str = this.props.location.pathname;\r\n        let arr = str.split(\"/\");\r\n        let loc = arr[2];\r\n        this.setState({ originalID: loc })\r\n        this.props.getPost(loc);\r\n\r\n\r\n\r\n    }\r\n\r\n    toggleClass = () => {\r\n        var currentState = this.state.active;\r\n        this.setState({ ...this.state, active: !currentState });\r\n    };\r\n\r\n    handleImageDelete = event => {\r\n        //console.log(event.currentTarget.parentElement.parentElement.querySelector('img').src);\r\n\r\n        var arrForms = [...this.state.formdatas];\r\n        var arrUrls = [...this.state.urls];\r\n        var index = arrUrls.indexOf(event.currentTarget.parentElement.parentElement.querySelector('img').src);\r\n        if (index !== -1) {\r\n            arrForms.splice(index, 1);\r\n            arrUrls.splice(index, 1);\r\n            this.setState({ urls: arrUrls });\r\n            this.setState({ formdatas: arrForms });\r\n            //console.log(this.state.urls);console.log(this.state.formdatas);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    handleImageUpload = event => {\r\n        const image = event.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append(\"image\", image, image.name);\r\n\r\n\r\n\r\n        const isType = image.type;\r\n        if (\r\n            isType === \"image/png\" ||\r\n            isType === \"image/jpg\" ||\r\n            isType === \"image/jpeg\" ||\r\n            isType === \"image/bmp\"\r\n        ) {\r\n            if (image.size < 5000000) {\r\n\r\n\r\n                // console.log(formData);\r\n                this.setState({\r\n                    formdatas: [...this.state.formdatas, { formData }]\r\n                });\r\n                // console.log(this.state.formdatas);\r\n\r\n                const objUrl = window.URL.createObjectURL(image);\r\n                this.setState({\r\n                    urls: [...this.state.urls, objUrl],\r\n                })\r\n\r\n\r\n                // this.props.uploadPostImage(formData);\r\n            } else {\r\n                this.props.enqueueSnackbar(`Selected file is too big (Max. 5MB)`, {\r\n                    preventDuplicate: true,\r\n                    variant: \"error\",\r\n                    autoHideDuration: 5000\r\n                });\r\n            }\r\n        } else {\r\n            this.props.enqueueSnackbar(`Invalid file type`, {\r\n                preventDuplicate: true,\r\n                variant: \"error\",\r\n                autoHideDuration: 3000\r\n            });\r\n        }\r\n    };\r\n\r\n    handleAlignment = event => {\r\n        this.setState({\r\n            alignment: event.currentTarget.value,\r\n\r\n        });\r\n\r\n\r\n        console.log(document.getElementById(\"codeBoxing\").value)\r\n\r\n\r\n\r\n        if (event.currentTarget.value == \"js\") {\r\n            document.getElementById(\"codeBoxing\").value = this.state.javaCode;\r\n\r\n            //console.log(this.state.javaCode);\r\n        }\r\n\r\n        if (event.currentTarget.value == \"py\") {\r\n            document.getElementById(\"codeBoxing\").value = this.state.pythonCode;\r\n\r\n            // console.log(this.state.pythonCode);\r\n        }\r\n\r\n        if (event.currentTarget.value == \"cpp\") {\r\n            document.getElementById(\"codeBoxing\").value = this.state.cppCode;\r\n\r\n            // console.log(this.state.cppCode);\r\n        }\r\n    };\r\n\r\n    handleAlignment1 = event => {\r\n        if (event.currentTarget.value === \"js\") this.setState({ currentCode: \"java\" })\r\n        if (event.currentTarget.value === \"py\") this.setState({ currentCode: \"python\" })\r\n        if (event.currentTarget.value === \"cpp\") this.setState({ currentCode: \"cpp\" })\r\n\r\n        console.log(this.state)\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n\r\n        event.target.parentElement.parentElement.querySelector(\"p\").innerHTML =\r\n            event.target.value.toString().length + \"/\" + event.target.maxLength;\r\n    };\r\n\r\n    handleFormChange = name => event => {\r\n        if (event.target.checked == true) {\r\n            this.setState({\r\n                categories: [...this.state.categories, event.target.value]\r\n            });\r\n        }\r\n\r\n        console.log(this.state)\r\n\r\n        if (\r\n            event.target.checked == false &&\r\n            this.state.categories.includes(event.target.value)\r\n        ) {\r\n            //console.log(\"need to delete \" + event.target.value);\r\n            var arr = [...this.state.categories];\r\n            var index = arr.indexOf(event.target.value);\r\n            if (index !== -1) {\r\n                arr.splice(index, 1);\r\n                this.setState({ categories: arr });\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n\r\n        /// Ustawianie domylnyhc tych\r\n        if (this.props.post !== null && this.props.post !== undefined && prevProps.post !== this.props.post) {\r\n            this.setState({\r\n                title: this.props.post.title,\r\n                shortDesc: this.props.post.shortDesc,\r\n                desc: this.props.post.desc\r\n            })\r\n\r\n            if (this.props.post.java) {\r\n                this.setState({ javaCode: this.props.post.java })\r\n            }\r\n            if (this.props.post.python) {\r\n                this.setState({ pythonCode: this.props.post.python })\r\n            }\r\n            if (this.props.post.cpp) {\r\n                this.setState({ cppCode: this.props.post.cpp })\r\n            }\r\n\r\n            console.log(this.props.post.images);\r\n\r\n            this.setState({ images: this.props.post.images })\r\n\r\n\r\n\r\n\r\n\r\n\r\n            this.setState({\r\n                categories: this.props.post.categories\r\n            })\r\n        }\r\n\r\n        if (this.props.UI.success === \"Edited immediately by owner\" || this.props.UI.success === \"Edited immediately by admin\") {\r\n            this.props.enqueueSnackbar(this.props.UI.success, {\r\n                preventDuplicate: true,\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n\r\n            });\r\n\r\n            this.props.history.push(\"/posts/\" + this.state.originalID);\r\n        }\r\n\r\n        if (this.props.UI.success === \"Edit request created successfully\") {\r\n\r\n\r\n            this.props.enqueueSnackbar(\"Edit request created successfully. Now you need to wait for post owner or admin to approve your request.\", {\r\n                preventDuplicate: true,\r\n                variant: \"success\",\r\n                autoHideDuration: 7000,\r\n\r\n            });\r\n\r\n        \r\n            this.props.history.push(\"/\");\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        //console.log(nextProps);\r\n        if (nextProps.UI.errors && !nextProps.UI.loading) {\r\n\r\n            if (nextProps.UI.errors === \"Internal Server Error\") {\r\n                this.props.enqueueSnackbar(\"Fatal error occured\", {\r\n                    preventDuplicate: true,\r\n                    variant: \"error\",\r\n                    autoHideDuration: 3000\r\n                });\r\n            } else {\r\n\r\n                this.props.enqueueSnackbar(nextProps.UI.errors, {\r\n                    preventDuplicate: true,\r\n                    variant: \"error\",\r\n                    autoHideDuration: 3000\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        if (nextProps.UI.success === \"Successfully posted\" && !nextProps.UI.loading) {\r\n            this.props.enqueueSnackbar(\"Successfully uploaded,  your post needs to be approved\", {\r\n                preventDuplicate: true,\r\n                variant: \"success\",\r\n                autoHideDuration: 3000\r\n            });\r\n        }\r\n        if (nextProps.UI.success && !nextProps.UI.loading) {\r\n\r\n\r\n\r\n            if (!this.state.images.includes(nextProps.UI.success.url) && nextProps.UI.success !== \"Git majonezizk\") {\r\n                this.setState({\r\n                    images: [...this.state.images, nextProps.UI.success.url]\r\n                });\r\n            }\r\n\r\n            //console.log(nextProps.UI.success.url);\r\n\r\n            if (this.state.urls.length === this.state.images.length && this.state.sent === false && this.state.urls.length !== 0) {\r\n                this.setState({\r\n                    sent: true,\r\n                })\r\n                this.handlePostUpload();\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n\r\n\r\n\r\n        if (this.state.formdatas.length === 0 && document.getElementById(\"postTitle\").value.length !== 0 && document.getElementById(\"shortDesc\").value.length !== 0) {\r\n            this.handlePostUpload();\r\n        } else {\r\n\r\n\r\n            if (document.getElementById(\"postTitle\").value.length !== 0 && document.getElementById(\"shortDesc\").value.length !== 0 && this.state.imgOptions === \"new\") {\r\n\r\n                const arr = this.state.formdatas;\r\n                for (let i = 0; i < arr.length; i++) {\r\n                    const formData = this.state.formdatas[i].formData;\r\n                    this.props.uploadPostImageEdit(formData);\r\n                    //console.log(i);  \r\n                }\r\n            }\r\n\r\n\r\n            else if ((this.state.imgOptions === \"keep\" || this.state.imgOptions === \"empty\") && document.getElementById(\"postTitle\").value.length !== 0 && document.getElementById(\"shortDesc\").value.length !== 0) this.handlePostUpload();\r\n\r\n\r\n            else {\r\n                this.props.enqueueSnackbar(`\"Title\" and \"Short description\" cannot be empty`, {\r\n                    preventDuplicate: true,\r\n                    variant: \"error\",\r\n                    autoHideDuration: 2000\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n    };\r\n\r\n    handlePostUpload = () => {\r\n\r\n\r\n        const postStruct = {\r\n            title: this.state.title,\r\n            shortDesc: this.state.shortDesc,\r\n            desc: this.state.desc,\r\n            java: this.state.javaCode,\r\n            python: this.state.pythonCode,\r\n            cpp: this.state.cppCode,\r\n            originalPostId: this.state.originalID,\r\n            categories: this.state.categories,\r\n        };\r\n\r\n        if (this.state.images !== undefined) postStruct.images = this.state.images\r\n\r\n\r\n\r\n\r\n        this.props.createEditRequest(postStruct, this.props.history);\r\n\r\n\r\n    }\r\n\r\n    handleCodeChange = event => {\r\n\r\n\r\n\r\n        if (this.state.alignment == \"js\") {\r\n            this.setState({ javaCode: event.target.value });\r\n        }\r\n\r\n        if (this.state.alignment == \"py\") {\r\n            this.setState({ pythonCode: event.target.value });\r\n        }\r\n\r\n        if (this.state.alignment == \"cpp\") {\r\n            this.setState({ cppCode: event.target.value });\r\n        }\r\n    };\r\n\r\n    handleExpand = () => {\r\n        //console.log(this.state.expanded);\r\n        if (this.state.expanded == false) {\r\n            document.getElementById(\"codeBoxing\").classList.add(\"blackBoxExpanded\");\r\n            document.getElementById(\"codeBoxing1\").classList.add(\"blackBoxExpanded\");\r\n            this.setState({ expanded: true });\r\n        }\r\n        if (this.state.expanded == true) {\r\n            document\r\n                .getElementById(\"codeBoxing\")\r\n                .classList.remove(\"blackBoxExpanded\");\r\n\r\n            document\r\n                .getElementById(\"codeBoxing1\")\r\n                .classList.remove(\"blackBoxExpanded\");\r\n\r\n            this.setState({ expanded: false });\r\n        }\r\n    };\r\n\r\n    handleOpenInput = () => {\r\n        const fileInput = document.getElementById(\"imageInput\");\r\n        fileInput.click();\r\n    };\r\n\r\n    renderEdit = () => {\r\n\r\n        const { errors } = this.state;\r\n        const {\r\n            classes,\r\n            UI: { loading, processing }\r\n        } = this.props;\r\n\r\n\r\n        const handleRadioChange = (event) => {\r\n            console.log(\"ze jkas\");\r\n            this.setState({\r\n                imgOptions: event.target.value\r\n            })\r\n            if (event.target.value === \"new\") {\r\n                this.setState({ active: true, images: [] })\r\n            }\r\n            else if (event.target.value === \"empty\") this.setState({ active: false, images: [] })\r\n            else if (event.target.value === \"keep\") this.setState({ active: false, images: this.props.post.images })\r\n\r\n\r\n        }\r\n\r\n\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <Typography className={classes.head1} variant=\"h4\" color=\"primary\">\r\n                    Edit post\r\n            </Typography>\r\n\r\n                <TextField\r\n                    name=\"title\"\r\n                    type=\"text\"\r\n                    label=\"Post title*\"\r\n                    variant=\"outlined\"\r\n                    error={errors.body ? true : false}\r\n                    fullWidth\r\n                    helperText=\"0/50\"\r\n                    onChange={this.handleChange}\r\n                    inputProps={{ maxLength: 50 }}\r\n                    className={classes.input}\r\n                    id=\"postTitle\"\r\n                    defaultValue={this.props.post !== null && this.props.post !== undefined ? this.props.post.title : null}\r\n                />\r\n\r\n                <TextField\r\n                    name=\"shortDesc\"\r\n                    type=\"text\"\r\n                    label=\"Short description*\"\r\n                    variant=\"outlined\"\r\n                    error={errors.body ? true : false}\r\n                    fullWidth\r\n                    helperText=\"0/250\"\r\n                    onChange={this.handleChange}\r\n                    inputProps={{ maxLength: 250 }}\r\n                    className={classes.input}\r\n                    multiline=\"true\"\r\n                    rows=\"3\"\r\n                    id=\"shortDesc\"\r\n                    defaultValue={this.props.post !== null && this.props.post !== undefined ? this.props.post.shortDesc : null}\r\n                />\r\n                <TextField\r\n                    name=\"desc\"\r\n                    type=\"text\"\r\n                    label=\"Description\"\r\n                    variant=\"outlined\"\r\n                    error={errors.body ? true : false}\r\n                    fullWidth\r\n                    helperText=\"0/750\"\r\n                    onChange={this.handleChange}\r\n                    inputProps={{ maxLength: 750 }}\r\n                    className={classes.input}\r\n                    multiline=\"true\"\r\n                    rows=\"7\"\r\n                    id=\"desc\"\r\n                    defaultValue={this.props.post !== null && this.props.post !== undefined ? this.props.post.desc : null}\r\n                />\r\n                <div>\r\n                    <div> Categories: </div>\r\n                    <FormGroup\r\n                        className=\"formGroup\"\r\n                        column\r\n                        style={{ marginLeft: 10, marginTop: 5 }}\r\n                    >\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.includes(\"string\")}\r\n                                    onChange={this.handleFormChange(\"string\")}\r\n                                    value=\"string\"\r\n                                />\r\n                            }\r\n                            label=\"Strings\"\r\n                            style={{ paddingLeft: 10 }}\r\n                        />\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.includes(\"int\")}\r\n                                    onChange={this.handleFormChange(\"int\")}\r\n                                    value=\"int\"\r\n                                />\r\n                            }\r\n                            label=\"Integers\"\r\n                            style={{ paddingLeft: 10 }}\r\n                        />\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.includes(\"array\")}\r\n                                    onChange={this.handleFormChange(\"array\")}\r\n                                    value=\"array\"\r\n                                />\r\n                            }\r\n                            label=\"Arrays\"\r\n                            style={{ paddingLeft: 10 }}\r\n                        />\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.includes(\"char\")}\r\n                                    onChange={this.handleFormChange(\"char\")}\r\n                                    value=\"char\"\r\n                                />\r\n                            }\r\n                            label=\"Characters\"\r\n                            style={{ paddingLeft: 10 }}\r\n                        />\r\n                    </FormGroup>\r\n\r\n                    <FormGroup\r\n                        className=\"formGroup\"\r\n                        column\r\n                        style={{ marginLeft: 10, marginTop: 5 }}\r\n                    >\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.crypt}\r\n                                    onChange={this.handleFormChange(\"crypt\")}\r\n                                    value=\"crpyt\"\r\n                                />\r\n                            }\r\n                            label=\"Cryptography\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.graphs}\r\n                                    onChange={this.handleFormChange(\"graphs\")}\r\n                                    value=\"graphs\"\r\n                                />\r\n                            }\r\n                            label=\"Graphs\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.AI}\r\n                                    onChange={this.handleFormChange(\"AI\")}\r\n                                    value=\"AI\"\r\n                                />\r\n                            }\r\n                            label=\"Artificial Intelligence\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Checkbox\r\n                                    checked={this.state.categories.DS}\r\n                                    onChange={this.handleFormChange(\"DS\")}\r\n                                    value=\"DS\"\r\n                                />\r\n                            }\r\n                            label=\"Data Structures\"\r\n                        />\r\n                    </FormGroup>\r\n                </div>\r\n\r\n                <Grid container spacing={1}>\r\n                    <Grid item sm={12} md={12}>\r\n                        <div className=\"codeBoxNav\">\r\n                            <ToggleButtonGroup\r\n                                value={this.state.alignment}\r\n                                exclusive\r\n                                onChange={this.handleAlignment}\r\n                            >\r\n                                <ToggleButton value=\"js\">\r\n                                    <img\r\n                                        draggable=\"false\"\r\n                                        src={\"/java_logo.png\"}\r\n                                        height=\"24px\"\r\n                                    />\r\n                                </ToggleButton>\r\n                                <ToggleButton value=\"py\">\r\n                                    <img\r\n                                        draggable=\"false\"\r\n                                        src={\"/python_logo.png\"}\r\n                                        height=\"24px\"\r\n                                    />\r\n                                </ToggleButton>\r\n                                <ToggleButton value=\"cpp\">\r\n                                    <img\r\n                                        draggable=\"false\"\r\n                                        src={\"/cpp_logo.png\"}\r\n                                        height=\"24px\"\r\n                                    />\r\n                                </ToggleButton>\r\n                            </ToggleButtonGroup>\r\n                            <IconButton\r\n                                onClick={this.handleExpand}\r\n                                className=\"codeBoxingCrop\"\r\n                            >\r\n                                <CropFreeIcon />\r\n                            </IconButton>\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                <div>\r\n                    <textarea\r\n                        id=\"codeBoxing\"\r\n                        onChange={this.handleCodeChange}\r\n                        type=\"text\"\r\n                        className=\"blackBox\"\r\n                        spellcheck=\"false\"\r\n                        defaultValue={this.state.alignment === \"js\" ? (\r\n\r\n                            `\r\n|===============================================|\r\n|                                               |\r\n|   /* Choose desired programming language */   |\r\n|                                               |\r\n|===============================================| `\r\n\r\n                        ) : null}\r\n\r\n                    >\r\n\r\n                    </textarea>\r\n                </div>\r\n\r\n                <Typography> Image options </Typography>\r\n\r\n                <RadioGroup aria-label=\"Image options\" onChange={handleRadioChange}>\r\n\r\n                    {this.props.post.images.length > 0 ? <FormControlLabel\r\n                        value=\"keep\"\r\n                        control={<Radio color=\"primary\" />}\r\n                        label=\"Keep exsisting images\"\r\n                        checked={this.state.imgOptions === \"keep\"}\r\n                    /> : null}\r\n\r\n                    <FormControlLabel\r\n                        value=\"new\"\r\n                        control={<Radio color=\"primary\" />}\r\n                        label=\"Upload new images\"\r\n                        checked={this.state.imgOptions === \"new\"}\r\n\r\n                    />\r\n                    <FormControlLabel\r\n                        value=\"empty\"\r\n                        control={<Radio color=\"primary\" />}\r\n                        label=\"Leave empty\"\r\n                        checked={this.state.imgOptions === \"empty\"}\r\n                    />\r\n                </RadioGroup>\r\n\r\n\r\n\r\n\r\n                <div className={this.state.active ? \"imageUploadBoxEdit isOpenEdit\" : \"imageUploadBoxEdit\"} >\r\n                    {\r\n                        this.state.urls.length !== 0 ? (\r\n\r\n                            <div id=\"imagesHolder\" className=\"imagesHolder\">\r\n\r\n\r\n\r\n                                <div className=\"imagesUploadPreview\">\r\n                                    <div className=\"containerIU\">\r\n                                        <img src={this.state.urls[0]} />\r\n                                        <div className=\"overlayIU\">\r\n                                            <IconButton\r\n                                                onClick={this.handleImageDelete}\r\n                                                className=\"iconIU\"\r\n                                                style={{ backgroundColor: \"transparent\" }}\r\n                                            >\r\n                                                <HighlightOffIcon fontSize=\"large\" />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {this.state.urls.length >= 2 ? (<div className=\"imagesUploadPreview\">\r\n                                    <div className=\"containerIU\">\r\n                                        <img src={this.state.urls[1]} />\r\n                                        <div className=\"overlayIU\">\r\n                                            <IconButton\r\n                                                onClick={this.handleImageDelete}\r\n                                                className=\"iconIU\"\r\n                                                style={{ backgroundColor: \"transparent\" }}\r\n                                            >\r\n                                                <HighlightOffIcon fontSize=\"large\" />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>) : null}\r\n\r\n                                {this.state.urls.length >= 3 ? (<div className=\"imagesUploadPreview\">\r\n                                    <div className=\"containerIU\">\r\n                                        <img src={this.state.urls[2]} />\r\n                                        <div className=\"overlayIU\">\r\n                                            <IconButton\r\n                                                onClick={this.handleImageDelete}\r\n                                                className=\"iconIU\"\r\n                                                style={{ backgroundColor: \"transparent\" }}\r\n                                            >\r\n                                                <HighlightOffIcon fontSize=\"large\" />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>) : null}\r\n\r\n                                {this.state.urls.length >= 4 ? (<div className=\"imagesUploadPreview\">\r\n                                    <div className=\"containerIU\">\r\n                                        <img src={this.state.urls[3]} />\r\n                                        <div className=\"overlayIU\">\r\n                                            <IconButton\r\n                                                onClick={this.handleImageDelete}\r\n                                                className=\"iconIU\"\r\n                                                style={{ backgroundColor: \"transparent\" }}\r\n                                            >\r\n                                                <HighlightOffIcon fontSize=\"large\" />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>) : null}\r\n\r\n\r\n\r\n                                {this.state.urls.length < 4 ? (\r\n\r\n                                    <div className=\"additionalIconDiv\" >\r\n                                        <IconButton onClick={this.handleOpenInput}>\r\n                                            <AddCircleOutlineIcon fontSize=\"large\" />\r\n                                        </IconButton>\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            id=\"imageInput\"\r\n                                            hidden=\"hidden\"\r\n                                            onChange={this.handleImageUpload}\r\n                                        />\r\n                                    </div>\r\n\r\n                                ) : null}\r\n\r\n\r\n\r\n                            </div>\r\n                        ) : (\r\n                                <div className=\"imageUploadBtn\">\r\n                                    <IconButton onClick={this.handleOpenInput}>\r\n                                        <ImageIcon fontSize=\"large\" />\r\n                                    </IconButton>\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        id=\"imageInput\"\r\n                                        hidden=\"hidden\"\r\n                                        onChange={this.handleImageUpload}\r\n                                    />{\" \"}\r\n                                    <br></br>\r\n                                    <Typography variant=\"button\">Upload up to 4 images</Typography>\r\n                                </div>\r\n                            )\r\n                    }\r\n                </div>\r\n\r\n                <Tooltip placement=\"left\" title=\"Upload\">\r\n                    <IconButton\r\n                        onClick={this.handleSubmit}\r\n                        type=\"submit\"\r\n                        style={{\r\n                            backgroundColor: \"#ebebeb\",\r\n                            float: \"right\",\r\n                            marginTop: \"5px\"\r\n                        }}\r\n                        disabled={processing}\r\n                    >\r\n                        <PublishIcon color=\"primary\" />\r\n                        {processing && (\r\n                            <CircularProgress size={50} style={{ position: \"absolute\" }} />\r\n                        )}\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <div style={{ clear: \"both\" }}></div>\r\n\r\n            </Paper>\r\n        )\r\n    }\r\n\r\n    renderPost = () => {\r\n        const {\r\n            classes,\r\n            post: {\r\n                postId,\r\n                createdAt,\r\n                shortDesc,\r\n                desc,\r\n                title,\r\n                userHandle,\r\n                userImage,\r\n                commentCount,\r\n                likeCount,\r\n                java,\r\n                python,\r\n                cpp,\r\n                comments,\r\n                categories,\r\n                images\r\n            },\r\n            user: {\r\n                credentials: { handle },\r\n                authenticated\r\n            },\r\n            UI: { loading }\r\n        } = this.props;\r\n\r\n        const handleChangePanel = event => {\r\n            var ex = this.state.expanded1;\r\n            this.setState({\r\n                expanded1: !ex\r\n            });\r\n        };\r\n\r\n\r\n        dayjs.extend(relativeTime);\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"main-content-edisdat\">\r\n                {!loading ? (\r\n\r\n                    <div>\r\n\r\n                        <Paper className={classes.paper}><Typography className={classes.head1} variant=\"h4\" color=\"primary\">\r\n                            Original post </Typography>\r\n                            <ExpansionPanel\r\n                                className={classes.expansion}\r\n                                expanded={this.state.expanded1}\r\n                                onChange={handleChangePanel}\r\n                            >\r\n                                <ExpansionPanelSummary\r\n                                    expandIcon={<ExpandMoreIcon />}\r\n                                    aria-controls=\"panel1bh-content\"\r\n                                    id=\"panel1bh-header\"\r\n                                >\r\n                                    <Typography color=\"primary\" style={{ fontSize: \"1.7rem\" }}>\r\n                                        {title}\r\n                                    </Typography>\r\n                                </ExpansionPanelSummary>\r\n                                <ExpansionPanelDetails>\r\n                                    <Typography className={classes.marginUni} variant=\"body1\">\r\n                                        {shortDesc}\r\n                                    </Typography>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n\r\n                            <div className=\"prev-userhandle\">\r\n                                <div className=\"prev-avNhandle\">\r\n                                    <Avatar src={userImage} style={{ width: \"30px\", height: \"30px\" }} component={Link}\r\n                                        to={\r\n                                            !loading\r\n                                                ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                                                    ? `/user`\r\n                                                    : `/users/${userHandle}`\r\n                                                : null\r\n                                        } />\r\n                                    <Typography style={{ marginLeft: \"5px\" }}\r\n                                        component={Link}\r\n                                        to={\r\n                                            !loading\r\n                                                ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                                                    ? `/user`\r\n                                                    : `/users/${userHandle}`\r\n                                                : null\r\n                                        }\r\n                                        variant=\"caption\"\r\n                                    >\r\n                                        {userHandle}\r\n\r\n                                    </Typography>\r\n                                </div>\r\n\r\n                                <div>\r\n\r\n\r\n                                </div>\r\n\r\n\r\n\r\n                                <Tooltip\r\n                                    placement=\"left\"\r\n                                    title={dayjs(createdAt).format(\"YYYY.MM.DD HH:mm\")}\r\n                                >\r\n                                    <Typography\r\n                                        style={{ float: \"right\" }}\r\n                                        variant=\"caption\"\r\n                                    >\r\n                                        {dayjs(createdAt).fromNow()}\r\n                                    </Typography>\r\n                                </Tooltip>\r\n\r\n                            </div>\r\n\r\n\r\n\r\n                            <div style={{ clear: \"both\" }}></div>\r\n\r\n                            <Typography\r\n                                style={{ marginTop: \"15px\", marginBottom: \"25px\" }}\r\n                                variant=\"body2\"\r\n                            >\r\n                                {desc}\r\n                            </Typography>\r\n\r\n                            {this.props.post.java ||\r\n                                this.props.post.cpp ||\r\n                                this.props.post.python ? (\r\n                                    <div>\r\n                                        <Grid container spacing={1}>\r\n                                            <Grid item sm={12} md={12}>\r\n                                                <div className=\"codeBoxNav\">\r\n                                                    <ToggleButtonGroup\r\n                                                        value={this.state.currentCode}\r\n                                                        exclusive\r\n                                                        onChange={this.handleAlignment1}\r\n                                                    >\r\n                                                        {this.props.post.java ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"js\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/java_logo.png?alt=media&token=03067a8a-721b-4f69-ad32-ef2df63a9584\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n\r\n                                                        {this.props.post.python ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"py\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/python_logo.png?alt=media&token=7e7010bb-fa65-445d-be7a-7a429c703d2c\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n\r\n                                                        {this.props.post.cpp ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"cpp\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/cpp_logo.png?alt=media&token=8389d1bd-c9f0-4542-a274-1a33d9922e6f\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n                                                    </ToggleButtonGroup>\r\n                                                    <IconButton\r\n                                                        onClick={this.handleExpand}\r\n                                                        className=\"codeBoxingCrop\"\r\n                                                    >\r\n                                                        <CropFreeIcon />\r\n                                                    </IconButton>\r\n                                                    <div style={{ clear: \"both\" }}></div>\r\n                                                </div>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <div id=\"codeBoxing1\" className=\"codeInputs\">\r\n                                            {this.state.currentCode === \"js\" ? (\r\n                                                <Highlight language={\"java\"}>\r\n                                                    {`\r\n      |===============================================|\r\n      |                                               |\r\n      |   /* Choose desired programming language */   |\r\n      |                                               |\r\n      |===============================================| `}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n\r\n                                            {this.props.post.java && this.state.currentCode === \"java\" ? (\r\n                                                <Highlight language={\"java\"}>\r\n                                                    {this.props.post.java}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n\r\n                                            {this.props.post.python &&\r\n                                                this.state.currentCode === \"python\" ? (\r\n                                                    <Highlight language={\"python\"}>\r\n                                                        {this.props.post.python}\r\n                                                    </Highlight>\r\n                                                ) : null}\r\n\r\n                                            {this.props.post.cpp && this.state.currentCode === \"cpp\" ? (\r\n                                                <Highlight language={\"c++\"}>\r\n                                                    {this.props.post.cpp}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n                                        </div>\r\n                                    </div>\r\n                                ) : null}\r\n\r\n                            {(!this.props.UI.loading && this.props.UI.success !== null ? (\r\n                                this.props.post.images\r\n                            ) : null) ? (\r\n                                    <div className=\"DialogIMG-flexContainer\">\r\n                                        {(() => {\r\n                                            const arr =\r\n                                                !this.props.UI.loading && this.props.UI.success !== null\r\n                                                    ? this.props.post.images\r\n                                                    : null;\r\n\r\n\r\n\r\n                                            const imgs = [];\r\n\r\n                                            if (arr) {\r\n                                                for (\r\n                                                    let i = 0;\r\n                                                    i <\r\n                                                    (!this.props.UI.loading && this.props.UI.success !== null\r\n                                                        ? this.props.post.images.length\r\n                                                        : null);\r\n                                                    i++\r\n                                                ) {\r\n                                                    imgs.push(\r\n                                                        <DialogIMG\r\n                                                            value={\r\n                                                                !this.props.UI.loading &&\r\n                                                                    this.props.UI.success !== null\r\n                                                                    ? this.props.post.images[i]\r\n                                                                    : null\r\n                                                            }\r\n                                                        />\r\n                                                    );\r\n                                                }\r\n                                            }\r\n                                            return imgs;\r\n                                        })()}\r\n                                    </div>\r\n                                ) : null}\r\n                        </Paper>\r\n\r\n\r\n                    </div>\r\n\r\n                ) : (\r\n                        <CircularProgress color=\"primary\" />\r\n                    )}\r\n            </div>\r\n        );\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n        const {\r\n            classes,\r\n            UI: { loading, processing }\r\n        } = this.props;\r\n\r\n        dayjs.extend(relativeTime);\r\n        return (\r\n\r\n\r\n            <div className=\"main-content-edit\">\r\n                {!loading && !this.props.user.loading ? (this.props.UI.errors === \"Post not found\" ? (<p>Post not found</p>) : (this.props.user.authenticated ? (this.props.user.credentials.isEmailVerified ?\r\n                    /// Tutaj po sprawdzeniu mona se renderowa\r\n                    (\r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs>{this.renderPost()}</Grid>\r\n                            <Grid item xs>{this.renderEdit()}</Grid>\r\n                        </Grid>\r\n\r\n                    )\r\n                    : <p>Please verify your email</p>) : <Redirect to=\"/login\" />)) : (<div className=\"post-margin\"><center>\r\n                        <CircularProgress color=\"primary\" /> </center></div>)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nedit.propTypes = {\r\n    createEditRequest: PropTypes.func.isRequired,\r\n    getPost: PropTypes.func.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    post: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    uploadPostImageEdit: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    UI: state.UI,\r\n    post: state.data.post,\r\n    user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps, { postPost, uploadPostImageEdit, getPost, createEditRequest })(\r\n    withStyles(styles)(withSnackbar(edit))\r\n);\r\n","import React, { Component } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { postPost, createEditRequest } from \"../redux/actions/dataActions\";\r\n\r\n//mui\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Redirect } from 'react-router'\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport FormatAlignLeftIcon from \"@material-ui/icons/FormatAlignLeft\";\r\nimport FormatAlignCenterIcon from \"@material-ui/icons/FormatAlignCenter\";\r\nimport FormatAlignRightIcon from \"@material-ui/icons/FormatAlignRight\";\r\nimport FormatAlignJustifyIcon from \"@material-ui/icons/FormatAlignJustify\";\r\nimport FormatBoldIcon from \"@material-ui/icons/FormatBold\";\r\nimport FormatItalicIcon from \"@material-ui/icons/FormatItalic\";\r\nimport FormatUnderlinedIcon from \"@material-ui/icons/FormatUnderlined\";\r\nimport FormatColorFillIcon from \"@material-ui/icons/FormatColorFill\";\r\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\r\nimport LikeIcon from '@material-ui/icons/FavoriteBorder';\r\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\r\nimport CropFreeIcon from \"@material-ui/icons/CropFree\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\n\r\nimport PublishIcon from \"@material-ui/icons/Publish\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport Highlight from \"react-highlight.js\";\r\nimport DialogIMG from \"../components/dialog_img\";\r\n\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport axios from 'axios';\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport { approveEditRequest, rejectEditRequest } from \"../redux/actions/dataActions\";\r\nimport { width } from \"@material-ui/system\";\r\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\r\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\r\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\r\nimport { getEditRequest } from \"../redux/actions/dataActions\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst styles = theme => ({\r\n    paper: {\r\n        padding: \"25px\"\r\n    },\r\n\r\n    head1: {\r\n        marginBottom: \"25px\"\r\n    },\r\n    input: {\r\n        marginBottom: \"15px\"\r\n    },\r\n    blackBox: {\r\n        backgroundColor: \"#000000\",\r\n        color: \"#FFFFFF\"\r\n    },\r\n\r\n    progress: {\r\n        position: \"absolute\"\r\n    }\r\n});\r\n\r\nexport class getEdit extends Component {\r\n    state = {\r\n        body: \"\",\r\n        errors: {},\r\n        alignment: \"js\",\r\n        javaCode: \"\",\r\n        pythonCode: \"\",\r\n        cppCode: \"\",\r\n        expanded1: false,\r\n        expanded: false,\r\n        expanded2: false,\r\n        categories: [],\r\n        images: [],\r\n        urls: [],\r\n        formdatas: [],\r\n        sent: false,\r\n        currentCode: \"js\",\r\n        active: false,\r\n        imgOptions: \"keep\"\r\n\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        let str = this.props.location.pathname;\r\n        let arr = str.split(\"/\");\r\n        let loc = arr[2];\r\n        this.setState({ originalID: loc })\r\n        this.props.getEditRequest(loc);\r\n\r\n\r\n\r\n    }\r\n\r\n    toggleClass = () => {\r\n        var currentState = this.state.active;\r\n        this.setState({ ...this.state, active: !currentState });\r\n    };\r\n\r\n\r\n    handleAlignment = event => {\r\n        this.setState({\r\n            alignment: event.currentTarget.value,\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n        if (event.currentTarget.value == \"js\") {\r\n            document.getElementById(\"codeBoxing\").value = this.props.editPost.java;\r\n\r\n            //console.log(this.state.javaCode);\r\n        }\r\n\r\n        if (event.currentTarget.value == \"py\") {\r\n            document.getElementById(\"codeBoxing\").value = this.props.editPost.python;\r\n\r\n            // console.log(this.state.pythonCode);\r\n        }\r\n\r\n        if (event.currentTarget.value == \"cpp\") {\r\n            document.getElementById(\"codeBoxing\").value = this.props.editPost.cpp;\r\n\r\n            // console.log(this.state.cppCode);\r\n        }\r\n    };\r\n\r\n    handleAlignment1 = event => {\r\n        if (event.currentTarget.value === \"js\") this.setState({ currentCode: \"java\" })\r\n        if (event.currentTarget.value === \"py\") this.setState({ currentCode: \"python\" })\r\n        if (event.currentTarget.value === \"cpp\") this.setState({ currentCode: \"cpp\" })\r\n\r\n        console.log(this.state)\r\n    }\r\n\r\n \r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n\r\n        /// Ustawianie domylnyhc tych\r\n       \r\n\r\n        if (this.props.UI.success === \"Edit request approved\" || this.props.UI.success === \"Edit request rejected\") {\r\n            this.props.enqueueSnackbar(this.props.UI.success, {\r\n                preventDuplicate: true,\r\n                variant: \"success\",\r\n                autoHideDuration: 5000,\r\n\r\n            });\r\n\r\n            this.props.history.push(\"/posts/\" + this.props.editPost.originalPostId);\r\n        }\r\n\r\n        if (this.props.UI.success === \"Edit request created successfully\") {\r\n\r\n\r\n            this.props.enqueueSnackbar(\"Edit request created successfully. Now you need to wait for post owner or admin to approve your request.\", {\r\n                preventDuplicate: true,\r\n                variant: \"success\",\r\n                autoHideDuration: 7000,\r\n\r\n            });\r\n\r\n        \r\n            this.props.history.push(\"/\");\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        //console.log(nextProps);\r\n        if (nextProps.UI.errors && !nextProps.UI.loading) {\r\n\r\n            if (nextProps.UI.errors === \"Internal Server Error\") {\r\n                this.props.enqueueSnackbar(\"Fatal error occured\", {\r\n                    preventDuplicate: true,\r\n                    variant: \"error\",\r\n                    autoHideDuration: 3000\r\n                });\r\n            } else {\r\n\r\n                this.props.enqueueSnackbar(nextProps.UI.errors, {\r\n                    preventDuplicate: true,\r\n                    variant: \"error\",\r\n                    autoHideDuration: 3000\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        if (nextProps.UI.success === \"Successfully posted\" && !nextProps.UI.loading) {\r\n            this.props.enqueueSnackbar(\"Successfully uploaded,  your post needs to be approved\", {\r\n                preventDuplicate: true,\r\n                variant: \"success\",\r\n                autoHideDuration: 3000\r\n            });\r\n        }\r\n        if (nextProps.UI.success && !nextProps.UI.loading) {\r\n\r\n\r\n\r\n            if (!this.state.images.includes(nextProps.UI.success.url) && nextProps.UI.success !== \"Git majonezizk\") {\r\n                this.setState({\r\n                    images: [...this.state.images, nextProps.UI.success.url]\r\n                });\r\n            }\r\n\r\n            //console.log(nextProps.UI.success.url);\r\n\r\n            if (this.state.urls.length === this.state.images.length && this.state.sent === false && this.state.urls.length !== 0) {\r\n                this.setState({\r\n                    sent: true,\r\n                })\r\n                this.handlePostUpload();\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    handleApprove = () => {\r\n        this.props.approveEditRequest(this.state.originalID)\r\n\r\n    }\r\n\r\n    handleReject = () => {\r\n        this.props.rejectEditRequest(this.state.originalID);\r\n\r\n    }\r\n\r\n\r\n    handleExpand = () => {\r\n        //console.log(this.state.expanded);\r\n        if (this.state.expanded == false) {\r\n            document.getElementById(\"codeBoxing\").classList.add(\"blackBoxExpanded\");\r\n            document.getElementById(\"codeBoxing1\").classList.add(\"blackBoxExpanded\");\r\n            this.setState({ expanded: true });\r\n        }\r\n        if (this.state.expanded == true) {\r\n            document\r\n                .getElementById(\"codeBoxing\")\r\n                .classList.remove(\"blackBoxExpanded\");\r\n\r\n            document\r\n                .getElementById(\"codeBoxing1\")\r\n                .classList.remove(\"blackBoxExpanded\");\r\n\r\n            this.setState({ expanded: false });\r\n        }\r\n    };\r\n\r\n    handleOpenInput = () => {\r\n        const fileInput = document.getElementById(\"imageInput\");\r\n        fileInput.click();\r\n    };\r\n\r\n    renderEdit = () => {\r\n\r\n        const {\r\n            classes,\r\n            editPost: {\r\n                createdAt,\r\n                shortDesc,\r\n                desc,\r\n                title,\r\n                userHandle,\r\n                userImage,\r\n                java,\r\n                python,\r\n                cpp,\r\n                comments,\r\n                categories,\r\n                images\r\n            },\r\n            user: {\r\n                credentials: { handle },\r\n                authenticated\r\n            },\r\n            UI: { loading, processing }\r\n        } = this.props;\r\n\r\n        const handleChangePanel = event => {\r\n            var ex = this.state.expanded2;\r\n            this.setState({\r\n                expanded2: !ex\r\n            });\r\n        };\r\n\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"main-content-edisdat\">\r\n                {!loading ? (\r\n\r\n                    <div>\r\n\r\n                        <Paper className={classes.paper}><Typography className={classes.head1} variant=\"h4\" color=\"primary\">\r\n                            Edited post </Typography>\r\n                            <ExpansionPanel\r\n                                className={classes.expansion}\r\n                                expanded={this.state.expanded2}\r\n                                onChange={handleChangePanel}\r\n                            >\r\n                                <ExpansionPanelSummary\r\n                                    expandIcon={<ExpandMoreIcon />}\r\n                                    aria-controls=\"panel1bh-content\"\r\n                                    id=\"panel1bh-header\"\r\n                                >\r\n                                    <Typography color=\"primary\" style={{ fontSize: \"1.7rem\" }}>\r\n                                        {title}\r\n                                    </Typography>\r\n                                </ExpansionPanelSummary>\r\n                                <ExpansionPanelDetails>\r\n                                    <Typography className={classes.marginUni} variant=\"body1\">\r\n                                        {shortDesc}\r\n                                    </Typography>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n\r\n                            <div className=\"prev-userhandle\">\r\n                                <div className=\"prev-avNhandle\">\r\n                                    <Avatar src={userImage} style={{ width: \"30px\", height: \"30px\" }} component={Link}\r\n                                        to={\r\n                                            !loading\r\n                                                ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                                                    ? `/user`\r\n                                                    : `/users/${userHandle}`\r\n                                                : null\r\n                                        } />\r\n                                    <Typography style={{ marginLeft: \"5px\" }}\r\n                                        component={Link}\r\n                                        to={\r\n                                            !loading\r\n                                                ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                                                    ? `/user`\r\n                                                    : `/users/${userHandle}`\r\n                                                : null\r\n                                        }\r\n                                        variant=\"caption\"\r\n                                    >\r\n                                        {userHandle}\r\n\r\n                                    </Typography>\r\n                                </div>\r\n\r\n                                <div>\r\n\r\n\r\n                                </div>\r\n\r\n\r\n\r\n                                <Tooltip\r\n                                    placement=\"left\"\r\n                                    title={dayjs(createdAt).format(\"YYYY.MM.DD HH:mm\")}\r\n                                >\r\n                                    <Typography\r\n                                        style={{ float: \"right\" }}\r\n                                        variant=\"caption\"\r\n                                    >\r\n                                        {dayjs(createdAt).fromNow()}\r\n                                    </Typography>\r\n                                </Tooltip>\r\n\r\n                            </div>\r\n\r\n\r\n\r\n                            <div style={{ clear: \"both\" }}></div>\r\n\r\n                            <Typography\r\n                                style={{ marginTop: \"15px\", marginBottom: \"25px\" }}\r\n                                variant=\"body2\"\r\n                            >\r\n                                {desc}\r\n                            </Typography>\r\n\r\n                            {this.props.editPost.java ||\r\n                                this.props.editPost.cpp ||\r\n                                this.props.editPost.python ? (\r\n                                    <div>\r\n                                        <Grid container spacing={1}>\r\n                                            <Grid item sm={12} md={12}>\r\n                                                <div className=\"codeBoxNav\">\r\n                                                    <ToggleButtonGroup\r\n                                                        value={this.state.alignment}\r\n                                                        exclusive\r\n                                                        onChange={this.handleAlignment}\r\n                                                    >\r\n                                                        {this.props.editPost.java ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"java\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/java_logo.png?alt=media&token=03067a8a-721b-4f69-ad32-ef2df63a9584\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n\r\n                                                        {this.props.editPost.python ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"py\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/python_logo.png?alt=media&token=7e7010bb-fa65-445d-be7a-7a429c703d2c\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n\r\n                                                        {this.props.editPost.cpp ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"cpp\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/cpp_logo.png?alt=media&token=8389d1bd-c9f0-4542-a274-1a33d9922e6f\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n                                                    </ToggleButtonGroup>\r\n                                                    <IconButton\r\n                                                        onClick={this.handleExpand}\r\n                                                        className=\"codeBoxingCrop\"\r\n                                                    >\r\n                                                        <CropFreeIcon />\r\n                                                    </IconButton>\r\n                                                    <div style={{ clear: \"both\" }}></div>\r\n                                                </div>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <div id=\"codeBoxing\" className=\"codeInputs\">\r\n                                            {this.state.alignment === \"js\" ? (\r\n                                                <Highlight language={\"java\"}>\r\n                                                    {`\r\n      |===============================================|\r\n      |                                               |\r\n      |   /* Choose desired programming language */   |\r\n      |                                               |\r\n      |===============================================| `}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n\r\n                                            {this.props.editPost.java && this.state.alignment === \"java\" ? (\r\n                                                <Highlight language={\"java\"}>\r\n                                                    {this.props.editPost.java}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n\r\n                                            {this.props.editPost.python &&\r\n                                                this.state.alignment === \"py\" ? (\r\n                                                    <Highlight language={\"python\"}>\r\n                                                        {this.props.editPost.python}\r\n                                                    </Highlight>\r\n                                                ) : null}\r\n\r\n                                            {this.props.editPost.cpp && this.state.alignment === \"cpp\" ? (\r\n                                                <Highlight language={\"c++\"}>\r\n                                                    {this.props.editPost.cpp}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n                                        </div>\r\n                                    </div>\r\n                                ) : null}\r\n\r\n                            {(!this.props.UI.loading && this.props.UI.success !== null ? (\r\n                                this.props.editPost.images\r\n                            ) : null) ? (\r\n                                    <div className=\"DialogIMG-flexContainer\">\r\n                                        {(() => {\r\n                                            const arr =\r\n                                                !this.props.UI.loading && this.props.UI.success !== null\r\n                                                    ? this.props.editPost.images\r\n                                                    : null;\r\n\r\n\r\n\r\n                                            const imgs = [];\r\n\r\n                                            if (arr) {\r\n                                                for (\r\n                                                    let i = 0;\r\n                                                    i <\r\n                                                    (!this.props.UI.loading && this.props.UI.success !== null\r\n                                                        ? this.props.editPost.images.length\r\n                                                        : null);\r\n                                                    i++\r\n                                                ) {\r\n                                                    imgs.push(\r\n                                                        <DialogIMG\r\n                                                            value={\r\n                                                                !this.props.UI.loading &&\r\n                                                                    this.props.UI.success !== null\r\n                                                                    ? this.props.editPost.images[i]\r\n                                                                    : null\r\n                                                            }\r\n                                                        />\r\n                                                    );\r\n                                                }\r\n                                            }\r\n                                            return imgs;\r\n                                        })()}\r\n                                    </div>\r\n                                ) : null}\r\n\r\n                        </Paper>\r\n\r\n\r\n                        <Tooltip placement=\"top\" title=\"Approve\">\r\n                    <IconButton\r\n                        onClick={this.handleApprove}\r\n                        type=\"submit\"\r\n                        style={{\r\n                            backgroundColor: \"#ebebeb\",\r\n                            float: \"right\",\r\n                            marginTop: \"5px\",\r\n                            marginLeft: \"10px\"\r\n                        }}\r\n                        disabled={processing}\r\n                    >\r\n                        <CheckIcon color=\"primary\" />\r\n                        {processing && (\r\n                            <CircularProgress size={50} style={{ position: \"absolute\" }} />\r\n                        )}\r\n                    </IconButton>\r\n                </Tooltip>\r\n\r\n\r\n                <Tooltip placement=\"top\" title=\"Reject\">\r\n                    <IconButton\r\n                        onClick={this.handleReject}\r\n                        type=\"submit\"\r\n                        style={{\r\n                            backgroundColor: \"#ebebeb\",\r\n                            float: \"right\",\r\n                            marginTop: \"5px\",\r\n                            marginLeft: \"10px\"\r\n                        }}\r\n                        disabled={processing}\r\n                    >\r\n                        <CloseIcon color=\"primary\" />\r\n                        {processing && (\r\n                            <CircularProgress size={50} style={{ position: \"absolute\" }} />\r\n                        )}\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <div style={{ clear: \"both\" }}></div>\r\n\r\n\r\n                    </div>\r\n\r\n                ) : (\r\n                        <CircularProgress color=\"primary\" />\r\n                    )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderPost = () => {\r\n        const {\r\n            classes,\r\n            post: {\r\n                postId,\r\n                createdAt,\r\n                shortDesc,\r\n                desc,\r\n                title,\r\n                userHandle,\r\n                userImage,\r\n                commentCount,\r\n                likeCount,\r\n                java,\r\n                python,\r\n                cpp,\r\n                comments,\r\n                categories,\r\n                images\r\n            },\r\n            user: {\r\n                credentials: { handle },\r\n                authenticated\r\n            },\r\n            UI: { loading }\r\n        } = this.props;\r\n\r\n        const handleChangePanel = event => {\r\n            var ex = this.state.expanded1;\r\n            this.setState({\r\n                expanded1: !ex\r\n            });\r\n        };\r\n\r\n\r\n        dayjs.extend(relativeTime);\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"main-content-edisdat\">\r\n                {!loading ? (\r\n\r\n                    <div>\r\n\r\n                        <Paper className={classes.paper}><Typography className={classes.head1} variant=\"h4\" color=\"primary\">\r\n                            Original post </Typography>\r\n                            <ExpansionPanel\r\n                                className={classes.expansion}\r\n                                expanded={this.state.expanded1}\r\n                                onChange={handleChangePanel}\r\n                            >\r\n                                <ExpansionPanelSummary\r\n                                    expandIcon={<ExpandMoreIcon />}\r\n                                    aria-controls=\"panel1bh-content\"\r\n                                    id=\"panel1bh-header\"\r\n                                >\r\n                                    <Typography color=\"primary\" style={{ fontSize: \"1.7rem\" }}>\r\n                                        {title}\r\n                                    </Typography>\r\n                                </ExpansionPanelSummary>\r\n                                <ExpansionPanelDetails>\r\n                                    <Typography className={classes.marginUni} variant=\"body1\">\r\n                                        {shortDesc}\r\n                                    </Typography>\r\n                                </ExpansionPanelDetails>\r\n                            </ExpansionPanel>\r\n\r\n                            <div className=\"prev-userhandle\">\r\n                                <div className=\"prev-avNhandle\">\r\n                                    <Avatar src={userImage} style={{ width: \"30px\", height: \"30px\" }} component={Link}\r\n                                        to={\r\n                                            !loading\r\n                                                ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                                                    ? `/user`\r\n                                                    : `/users/${userHandle}`\r\n                                                : null\r\n                                        } />\r\n                                    <Typography style={{ marginLeft: \"5px\" }}\r\n                                        component={Link}\r\n                                        to={\r\n                                            !loading\r\n                                                ? this.props.user.credentials.handle === this.props.post.userHandle\r\n                                                    ? `/user`\r\n                                                    : `/users/${userHandle}`\r\n                                                : null\r\n                                        }\r\n                                        variant=\"caption\"\r\n                                    >\r\n                                        {userHandle}\r\n\r\n                                    </Typography>\r\n                                </div>\r\n\r\n                                <div>\r\n\r\n\r\n                                </div>\r\n\r\n\r\n\r\n                                <Tooltip\r\n                                    placement=\"left\"\r\n                                    title={dayjs(createdAt).format(\"YYYY.MM.DD HH:mm\")}\r\n                                >\r\n                                    <Typography\r\n                                        style={{ float: \"right\" }}\r\n                                        variant=\"caption\"\r\n                                    >\r\n                                        {dayjs(createdAt).fromNow()}\r\n                                    </Typography>\r\n                                </Tooltip>\r\n\r\n                            </div>\r\n\r\n\r\n\r\n                            <div style={{ clear: \"both\" }}></div>\r\n\r\n                            <Typography\r\n                                style={{ marginTop: \"15px\", marginBottom: \"25px\" }}\r\n                                variant=\"body2\"\r\n                            >\r\n                                {desc}\r\n                            </Typography>\r\n\r\n                            {this.props.post.java ||\r\n                                this.props.post.cpp ||\r\n                                this.props.post.python ? (\r\n                                    <div>\r\n                                        <Grid container spacing={1}>\r\n                                            <Grid item sm={12} md={12}>\r\n                                                <div className=\"codeBoxNav\">\r\n                                                    <ToggleButtonGroup\r\n                                                        value={this.state.currentCode}\r\n                                                        exclusive\r\n                                                        onChange={this.handleAlignment1}\r\n                                                    >\r\n                                                        {this.props.post.java ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"js\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/java_logo.png?alt=media&token=03067a8a-721b-4f69-ad32-ef2df63a9584\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n\r\n                                                        {this.props.post.python ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"py\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/python_logo.png?alt=media&token=7e7010bb-fa65-445d-be7a-7a429c703d2c\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n\r\n                                                        {this.props.post.cpp ? (\r\n                                                            <ToggleButton id=\"langBTN\" value=\"cpp\">\r\n                                                                <img\r\n                                                                    draggable=\"false\"\r\n                                                                    src=\"https://firebasestorage.googleapis.com/v0/b/algorithmway-420.appspot.com/o/cpp_logo.png?alt=media&token=8389d1bd-c9f0-4542-a274-1a33d9922e6f\"\r\n                                                                    height=\"24px\"\r\n                                                                />\r\n                                                            </ToggleButton>\r\n                                                        ) : null}\r\n                                                    </ToggleButtonGroup>\r\n                                                    <IconButton\r\n                                                        onClick={this.handleExpand}\r\n                                                        className=\"codeBoxingCrop\"\r\n                                                    >\r\n                                                        <CropFreeIcon />\r\n                                                    </IconButton>\r\n                                                    <div style={{ clear: \"both\" }}></div>\r\n                                                </div>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <div id=\"codeBoxing1\" className=\"codeInputs\">\r\n                                            {this.state.currentCode === \"js\" ? (\r\n                                                <Highlight language={\"java\"}>\r\n                                                    {`\r\n      |===============================================|\r\n      |                                               |\r\n      |   /* Choose desired programming language */   |\r\n      |                                               |\r\n      |===============================================| `}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n\r\n                                            {this.props.post.java && this.state.currentCode === \"java\" ? (\r\n                                                <Highlight language={\"java\"}>\r\n                                                    {this.props.post.java}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n\r\n                                            {this.props.post.python &&\r\n                                                this.state.currentCode === \"python\" ? (\r\n                                                    <Highlight language={\"python\"}>\r\n                                                        {this.props.post.python}\r\n                                                    </Highlight>\r\n                                                ) : null}\r\n\r\n                                            {this.props.post.cpp && this.state.currentCode === \"cpp\" ? (\r\n                                                <Highlight language={\"c++\"}>\r\n                                                    {this.props.post.cpp}\r\n                                                </Highlight>\r\n                                            ) : null}\r\n                                        </div>\r\n                                    </div>\r\n                                ) : null}\r\n\r\n                            {(!this.props.UI.loading && this.props.UI.success !== null ? (\r\n                                this.props.post.images\r\n                            ) : null) ? (\r\n                                    <div className=\"DialogIMG-flexContainer\">\r\n                                        {(() => {\r\n                                            const arr =\r\n                                                !this.props.UI.loading && this.props.UI.success !== null\r\n                                                    ? this.props.post.images\r\n                                                    : null;\r\n\r\n\r\n\r\n                                            const imgs = [];\r\n\r\n                                            if (arr) {\r\n                                                for (\r\n                                                    let i = 0;\r\n                                                    i <\r\n                                                    (!this.props.UI.loading && this.props.UI.success !== null\r\n                                                        ? this.props.post.images.length\r\n                                                        : null);\r\n                                                    i++\r\n                                                ) {\r\n                                                    imgs.push(\r\n                                                        <DialogIMG\r\n                                                            value={\r\n                                                                !this.props.UI.loading &&\r\n                                                                    this.props.UI.success !== null\r\n                                                                    ? this.props.post.images[i]\r\n                                                                    : null\r\n                                                            }\r\n                                                        />\r\n                                                    );\r\n                                                }\r\n                                            }\r\n                                            return imgs;\r\n                                        })()}\r\n                                    </div>\r\n                                ) : null}\r\n                        </Paper>\r\n\r\n\r\n                    </div>\r\n\r\n                ) : (\r\n                        <CircularProgress color=\"primary\" />\r\n                    )}\r\n            </div>\r\n        );\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { errors } = this.state;\r\n        const {\r\n            classes,\r\n            UI: { loading, processing }\r\n        } = this.props;\r\n\r\n        dayjs.extend(relativeTime);\r\n        return (\r\n\r\n\r\n            <div className=\"main-content-edit\">\r\n                {!loading && !this.props.user.loading ? (this.props.UI.errors === \"Original post not found\" || this.props.UI.errors === \"Edit request not found\" || this.props.UI.errors === \"You cant view this edit request\" ? (<p>{this.props.UI.errors}</p>) : (this.props.user.authenticated ? (this.props.user.credentials.isEmailVerified ?\r\n                    /// Tutaj po sprawdzeniu mona se renderowa\r\n                    (\r\n                        <div>\r\n                        <Grid container spacing={3}>\r\n                            <Grid item xs>{this.renderPost()}</Grid>\r\n                            <Grid item xs>{this.renderEdit()}</Grid>\r\n                        </Grid>\r\n           \r\n</div>\r\n\r\n       \r\n\r\n                    )\r\n                    : <p>Please verify your email</p>) : <Redirect to=\"/login\" />)) : (<div className=\"post-margin\"><center>\r\n                        <CircularProgress color=\"primary\" /> </center></div>)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ngetEdit.propTypes = {\r\n    rejectEditRequest: PropTypes.func.isRequired,\r\n    getEdit: PropTypes.func.isRequired,\r\n    UI: PropTypes.object.isRequired,\r\n    post: PropTypes.object.isRequired,\r\n    editPost: PropTypes.object.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    approveEditRequest: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    UI: state.UI,\r\n    post: state.data.post,\r\n    user: state.user,\r\n    editPost: state.data.editPost\r\n});\r\n\r\nexport default connect(mapStateToProps, { postPost, approveEditRequest, getEditRequest, rejectEditRequest })(\r\n    withStyles(styles)(withSnackbar(getEdit))\r\n);\r\n","import React, { Component } from 'react'\r\nimport {getForeignUser} from \"../redux/actions/dataActions\"\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport NotFound from './notFound'\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport Post from \"../components/post\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport axios from \"axios\";\r\nimport { isAbsolute } from \"path\";\r\nimport dayjs from \"dayjs\";\r\nimport theTime from \"dayjs/plugin/advancedFormat\";\r\n\r\nimport {Redirect} from 'react-router-dom';\r\nimport { logoutUser, uploadImage } from '../redux/actions/userActions';\r\nimport Snackbar from '../components/snackbar';\r\n\r\n\r\n//icons\r\nimport Location from \"@material-ui/icons/LocationOn\";\r\nimport EventIcon from \"@material-ui/icons/Event\";\r\nimport FireplaceIcon from \"@material-ui/icons/Fireplace\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\n\r\nimport { LinearProgress } from '@material-ui/core';\r\n\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { height } from \"@material-ui/system\";\r\nimport { withSnackbar } from 'notistack';\r\n\r\nimport {loadMorePosts, getPosts} from '../redux/actions/dataActions'\r\nimport { Waypoint } from 'react-waypoint';\r\n\r\n\r\n\r\nconst styles = {\r\n    paper: {\r\n      padding: \"20px\"\r\n    },\r\n  \r\n    left: {\r\n      maxWidth: 300,\r\n      display: \"inline-flex\",\r\n      verticalAlign: \"middle\",\r\n      lineHeight: 1.8\r\n    },\r\n    profilePosts: {\r\n      marginTop: 20\r\n    },\r\n    icoMargin: {\r\n      marginRight: 5\r\n    },\r\n  \r\n    editIco: {\r\n      display: \"inline-flex\",\r\n      verticalAlign: \"middle\",\r\n      lineHeight: 1.5,\r\n      height: 20,\r\n      marginLeft: 5\r\n    }\r\n  };\r\n\r\nexport class users extends Component {\r\n    \r\n   \r\n    \r\n  renderWaypoint = () => {\r\n    \r\n   /* \r\n    let currentPosts = this.props.data.posts.filter(element => {\r\n      return element.userHandle === this.props.data.user.handle\r\n    });\r\n  */\r\n\r\n\r\n\r\n    //console.log(\"Renedered wyapoint\")\r\n\r\n\r\n\r\n\r\n    if (this.props.UI.loading === false && this.props.data.posts.length > 0) {\r\n      return (\r\n        <Waypoint\r\n          onEnter={this.loadMorePosts()}\r\n        />\r\n      )\r\n\r\n    }\r\n  }\r\n\r\n  loadMorePosts = () => {\r\n\r\n    //console.log(\"ejpoint fired\")\r\n\r\n\r\n   // console.log(\"ej pojnt\")\r\n    this.props.loadMorePosts([], [], false);\r\n  }\r\n\r\n\r\n  \r\n  componentDidMount() {\r\n    let str = this.props.location.pathname;\r\n    let arr = str.split(\"/\");\r\n    let loc = arr[2];\r\n    if (arr[1] === \"users\" && arr[2] !== \"logo192.png\") this.props.getForeignUser(loc);\r\n\r\n\r\n\r\n    if (!this.props.data.noMore) this.props.getPosts();\r\n\r\n\r\n  }\r\n\r\n  \r\ncomponentDidUpdate(prevprops) {\r\n  if(prevprops.UI.errors !== this.props.UI.errors && this.props.UI.errors.status === 404 ) {\r\n    console.log(\"User not found, redirecting...\");\r\n    //this.props.history.push(\"/404\");\r\n    \r\n\r\n  }\r\n}\r\n \r\n\r\n  render() {\r\n    dayjs.extend(theTime);\r\n\r\n    let str = this.props.location.pathname;\r\n    let arr = str.split(\"/\");\r\n    let loc = arr[2];\r\n    if (arr[1] === \"users\" && arr[2] !== \"logo192.png\") {loc = loc} else {\r\n      loc = null;\r\n    }\r\n\r\n     let recentPostsMarkup = this.props.data.posts ? (\r\n       this.props.data.posts.map(post =>\r\n         (post.userHandle === loc) ?\r\n           <Post key={post.postId} post={post} /> : null\r\n       )\r\n     ) : (\r\n         null\r\n       ); \r\n \r\n     const {\r\n       classes,\r\n       \r\n        data: { user },\r\n       \r\n\r\n \r\n       UI: {loading},\r\n \r\n     } = this.props;\r\n  \r\n    \r\n\r\n     const profileMarkup = !this.props.data.loading && !this.props.UI.errors ? (\r\n        console.log(\"check\"),\r\n        <div class=\"main-content-squeezed\">\r\n        <Paper className={classes.paper}>\r\n          <div className=\"profile-av\">\r\n\r\n\r\n            <div className=\"container1\">\r\n\r\n              <Avatar alt={\r\n                  this.props.data.user ? (this.props.data.user.handle) : null\r\n                  \r\n                  \r\n                  } src={\r\n                      \r\n                    this.props.data.user ? (this.props.data.user.imageUrl) : null\r\n                      \r\n                      \r\n                      \r\n                      \r\n                      } className=\"bigAvatar-scss\" />\r\n\r\n              \r\n            </div>\r\n\r\n\r\n\r\n            <Typography variant=\"h5\"> { this.props.data.user ? (this.props.data.user.handle) : null}</Typography>\r\n\r\n            <div className=\"profile-ainfo\">\r\n              <Typography className={classes.left} variant=\"body2\">\r\n                {\" \"}\r\n                <Tooltip title=\"Location\" placement=\"left\">\r\n                  <Location color=\"primary\"></Location>\r\n                </Tooltip>\r\n                <div className={classes.icoMargin} /> { this.props.data.user ? (this.props.data.user.location) : null}{\" \"}\r\n              </Typography>\r\n              <br></br>\r\n\r\n              <Typography className={classes.left} variant=\"body2\">\r\n                {\" \"}\r\n                <Tooltip title=\"Account created\" placement=\"left\">\r\n                  <EventIcon color=\"primary\"></EventIcon>\r\n                </Tooltip>\r\n              </Typography>\r\n              <br></br>\r\n\r\n              <Typography className={classes.left} variant=\"body2\">\r\n                {\" \"}\r\n                <Tooltip title=\"Reputation\" placement=\"left\">\r\n                  <FireplaceIcon color=\"primary\"></FireplaceIcon>\r\n                </Tooltip>{\" \"}\r\n                <div className={classes.icoMargin} /> { this.props.data.user ? (this.props.data.user.reputation) : null}{\" \"}\r\n              </Typography>\r\n            </div>\r\n          </div>\r\n\r\n          <Typography className=\"profile-bio\" variant=\"body2\">\r\n            {\" \"}\r\n            { this.props.data.user ? (this.props.data.user.bio) : null}{\" \"}\r\n          </Typography>\r\n\r\n          \r\n\r\n        </Paper>\r\n\r\n        <div className={classes.profilePosts}>\r\n\r\n        {recentPostsMarkup}\r\n          <div className=\"infinite-scroll-example__waypoint\">\r\n            {!this.props.data.noMore ? this.renderWaypoint() : null}\r\n            {!loading ? this.props.data.noMore ? null : (<div className=\"post-margin\"><center>\r\n              <LinearProgress color=\"primary\" style={{ width: \"100%\" }} /></center></div>) : null}\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n\r\n     ) : (\r\n   (!this.props.UI.errors ? (<div class=\"main-content-squeezed\">\r\n   <LinearProgress color=\"primary\" />\r\n </div>): <NotFound />\r\n \r\n \r\n )  \r\n     \r\n   \r\n   )    \r\n    \r\n\r\n\r\n    return profileMarkup;\r\n        \r\n       \r\n        \r\n        \r\n        \r\n        \r\n\r\n       \r\n   }\r\n \r\n  }\r\n\r\n\r\nusers.propTypes = {\r\n   \r\n    data: PropTypes.object.isRequired,\r\n    \r\n    UI: PropTypes.object.isRequired,\r\n    //user: PropTypes.object.isRequired,\r\n    getForeignUser: PropTypes.func.isRequired,\r\n    loadMorePosts: PropTypes.func.isRequired,\r\n    getPosts : PropTypes.func.isRequired,\r\n    classes: PropTypes.object.isRequired\r\n  };\r\n  const mapStateToProps = state => ({\r\n    data: state.data,\r\n    \r\n    UI: state.UI,\r\n    //user: state.user\r\n  });\r\n  \r\n  const mapActionsToProps = {\r\n    getForeignUser, loadMorePosts, getPosts\r\n  };\r\n  \r\n  export default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n  )(withStyles(styles)(users));\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\n\r\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\r\n\r\n//Material-UI \r\n\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { fade, makeStyles, createMuiTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport PropTypes from 'prop-types';\r\n//Icons\r\n\r\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport Home from '@material-ui/icons/Home';\r\nimport Add from '@material-ui/icons/Add';\r\nimport SignOut from '@material-ui/icons/ExitToApp';\r\nimport LogIn from '@material-ui/icons/VpnKey';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { logoutUser } from '../redux/actions/userActions';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { logo } from \"./logo.png\"\r\n\r\n//of auth\r\n\r\n\r\nimport { useLocation } from \"react-router-dom\"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n  toDi: {\r\n\r\n    display: \"none !important\",\r\n\r\n\r\n  },\r\n\r\n  toN: {\r\n\r\n  },\r\n\r\n\r\n\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n\r\n  marginLeft: {\r\n    marginLeft: theme.spacing(2),\r\n\r\n  },\r\n  marginRight: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  //for logo\r\n  bigAvatar: {\r\n    margin: 10,\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n\r\n\r\n  searchIcon: {\r\n    width: theme.spacing(7),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 7),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 300,\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    marginLeft: theme.spacing(2),\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\n\r\n\r\nfunction PrimarySearchAppBar() {\r\n\r\n  let location = useLocation();\r\n  // console.log(location.pathname);\r\n\r\n\r\n  let history = useHistory();\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const authenticated = useSelector(state => state.user.authenticated, shallowEqual);\r\n\r\n\r\n  const admin = useSelector(state => state.user.adminPrivileges, shallowEqual);\r\n\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = event => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logoutUser());\r\n    setAnchorEl(null);\r\n    setMobileMoreAnchorEl(null);\r\n\r\n    enqueueSnackbar('Successfully logged out!', {\r\n      variant: \"success\",\r\n      autoHideDuration: 1000,\r\n    });\r\n\r\n    if (location.pathname !== \"/\") history.push(\"/\");\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n\r\n      {location.pathname !== \"/user\" ? <MenuItem onClick={handleMenuClose} component={Link} to={'/user'}>\r\n        <IconButton color=\"inherit\">\r\n          <Badge badgeContent={0} color=\"secondary\">\r\n\r\n            <AccountCircle />\r\n\r\n          </Badge>\r\n        </IconButton>\r\n        <p>My profile</p>\r\n      </MenuItem> : <MenuItem onClick={handleMenuClose} >\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={0} color=\"secondary\">\r\n\r\n              <AccountCircle />\r\n\r\n            </Badge>\r\n          </IconButton>\r\n          <p>My profile</p>\r\n        </MenuItem>}\r\n\r\n\r\n      <MenuItem onClick={() => handleLogout()}>\r\n        <IconButton color=\"inherit\">\r\n          <Badge badgeContent={0} color=\"secondary\">\r\n\r\n            <SignOut />\r\n\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Log out</p>\r\n\r\n      </MenuItem>\r\n\r\n    </Menu>\r\n  );\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n\r\n\r\n\r\n\r\n\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n\r\n\r\n      {location.pathname !== \"/\" ?\r\n        <MenuItem onClick={handleMenuClose} component={Link} to=\"/\">\r\n          <IconButton disableFocusRipple=\"true\" color=\"inherit\" >\r\n            <Badge badgeContent={0} color=\"secondary\">\r\n              <Home />\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Home</p>\r\n        </MenuItem> :\r\n        <MenuItem onClick={handleMenuClose} >\r\n          <IconButton disableFocusRipple=\"true\" color=\"inherit\" >\r\n            <Badge badgeContent={0} color=\"secondary\">\r\n              <Home />\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Home</p>\r\n        </MenuItem>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      {location.pathname !== \"/upload\" ?\r\n        <MenuItem component={Link} to=\"/upload\"\r\n          className={!authenticated ? classes.toDi : classes.toN}\r\n          onClick={handleMenuClose}>\r\n          <IconButton disableRipple=\"true\" color=\"inherit\">\r\n            <Badge badgeContent={0} color=\"secondary\">\r\n              <Add></Add>\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Create a post</p>\r\n        </MenuItem> :\r\n        <MenuItem\r\n          className={!authenticated ? classes.toDi : classes.toN}\r\n          onClick={handleMenuClose}>\r\n          <IconButton disableRipple=\"true\" color=\"inherit\">\r\n            <Badge badgeContent={0} color=\"secondary\">\r\n              <Add></Add>\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Create a post</p>\r\n        </MenuItem>}\r\n\r\n\r\n\r\n      <MenuItem\r\n        className={!authenticated ? classes.toDi : classes.toN}\r\n        onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Profile</p>\r\n      </MenuItem>\r\n\r\n\r\n      {location.pathname !== \"/login\" ?\r\n        <MenuItem component={Link} to=\"/login\" onClick={handleMenuClose} className={authenticated ? classes.toDi : classes.toN}   >\r\n          <IconButton\r\n            color=\"inherit\">\r\n            <Badge color=\"secondary\">\r\n              <LogIn />\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Log in</p>\r\n        </MenuItem> :\r\n        <MenuItem onClick={handleMenuClose} className={authenticated ? classes.toDi : classes.toN}   >\r\n          <IconButton\r\n            color=\"inherit\">\r\n            <Badge color=\"secondary\">\r\n              <LogIn />\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Log in</p>\r\n        </MenuItem>\r\n      }\r\n\r\n      {location.pathname !== \"/admin\" ?\r\n        <MenuItem component={Link} to=\"/admin\" onClick={handleMenuClose} className={!admin ? classes.toDi : classes.toN}>\r\n          <IconButton\r\n            className={!admin ? classes.toDi : classes.toN}\r\n            disabled={!admin}\r\n            aria-label=\"Admin functions\"\r\n            color=\"inherit\">\r\n            <SupervisedUserCircleIcon />\r\n          </IconButton>\r\n          <p>Admin panel</p>\r\n        </MenuItem> :\r\n\r\n        <MenuItem onClick={handleMenuClose} className={!admin ? classes.toDi : classes.toN}>\r\n          <IconButton\r\n            className={!admin ? classes.toDi : classes.toN}\r\n            disabled={!admin}\r\n            aria-label=\"Admin functions\"\r\n            color=\"inherit\">\r\n            <SupervisedUserCircleIcon />\r\n          </IconButton>\r\n          <p>Admin panel</p>\r\n        </MenuItem>\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </Menu>\r\n\r\n\r\n\r\n  );\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  //Wersja PC\r\n  return (\r\n\r\n\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          <Avatar className={classes.bigAvatar} src=\"https://i.ibb.co/86Jyr73/logo192.png\" />\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ 'aria-label': 'search' }}\r\n            />\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div className={classes.sectionDesktop}>\r\n\r\n\r\n            {/* Home  button */}\r\n            {location.pathname !== \"/\" ? <IconButton component={Link} to=\"/\" className={classes.marginRight} color=\"inherit\">\r\n              <Badge badgeContent={0} color='secondary'>\r\n                <Home />\r\n              </Badge>\r\n            </IconButton> : <IconButton className={classes.marginRight} color=\"inherit\">\r\n                <Badge badgeContent={0} color='secondary'>\r\n                  <Home />\r\n                </Badge>\r\n              </IconButton>}\r\n\r\n\r\n\r\n\r\n            {/* Add post button */}\r\n            {location.pathname !== \"/upload\" ? <IconButton\r\n              className={!authenticated ? classes.toDi : classes.toN}\r\n              component={Link} to=\"/upload\" color=\"inherit\">\r\n              <Badge badgeContent={0} color=\"secondary\">\r\n                <Add />\r\n              </Badge>\r\n            </IconButton> : <IconButton\r\n              className={!authenticated ? classes.toDi : classes.toN}\r\n              color=\"inherit\">\r\n                <Badge badgeContent={0} color=\"secondary\">\r\n                  <Add />\r\n                </Badge>\r\n              </IconButton>}\r\n\r\n\r\n\r\n\r\n          </div>\r\n\r\n\r\n          <div className={classes.grow} />\r\n\r\n\r\n\r\n\r\n          <div className={classes.sectionDesktop} >\r\n\r\n\r\n            {/* Admin button */}\r\n            {location.pathname !== \"/admin\" ? <Tooltip title=\"Admin panel\" placement=\"bottom\">\r\n              <IconButton\r\n                className={!admin ? classes.toDi : classes.toN}\r\n                disabled={!admin}\r\n                aria-label=\"Admin functions\"\r\n                component={Link}\r\n                to=\"/admin\"\r\n                color=\"inherit\">\r\n                <SupervisedUserCircleIcon />\r\n              </IconButton>\r\n            </Tooltip> : <Tooltip title=\"Admin panel\" placement=\"bottom\">\r\n                <IconButton\r\n                  className={!admin ? classes.toDi : classes.toN}\r\n                  disabled={!admin}\r\n                  aria-label=\"Admin functions\"\r\n                  color=\"inherit\">\r\n                  <SupervisedUserCircleIcon />\r\n                </IconButton>\r\n              </Tooltip>}\r\n\r\n\r\n\r\n\r\n            {/* My account  button */}\r\n\r\n            <Tooltip title=\"My account\" placement=\"bottom\">\r\n              <IconButton\r\n                className={!authenticated ? classes.toDi : classes.toN}\r\n                //disabled={!authenticated}\r\n                edge=\"end\"\r\n                aria-label=\"account of current user\"\r\n                aria-controls={menuId}\r\n                aria-haspopup=\"true\"\r\n                onClick={handleProfileMenuOpen}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n            </Tooltip>\r\n\r\n\r\n            {/* Login   button */}\r\n            {location.pathname !== \"/login\" ? <IconButton\r\n              className={authenticated ? classes.toDi : classes.toN}\r\n              //disabled={authenticated}\r\n              component={Link} to=\"/login\" color=\"inherit\">\r\n              <Badge color=\"secondary\">\r\n                <LogIn />\r\n              </Badge>\r\n            </IconButton> : <IconButton\r\n              className={authenticated ? classes.toDi : classes.toN}\r\n              //disabled={authenticated}\r\n              color=\"inherit\">\r\n\r\n                <Badge color=\"secondary\">\r\n                  <LogIn />\r\n                </Badge>\r\n              </IconButton>}\r\n\r\n\r\n          </div>\r\n\r\n\r\n          <div className={classes.marginLeft}>\r\n\r\n            <IconButton\r\n              className={!authenticated ? classes.toDi : classes.toN}\r\n              color=\"inherit\">\r\n              <Badge badgeContent={1} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div >\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default PrimarySearchAppBar;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\n//redux\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { SET_AUTHENTICATED } from \"./redux/types\";\r\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\r\n\r\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\r\n\r\nimport MuiThemeProvider from \"@material-ui/styles/ThemeProvider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport withStyles from '@material-ui/core/styles/withStyles'\r\nimport AuthRoute from \"./utils/AuthRoute\";\r\nimport PropTypes from 'prop-types'\r\n// Pages:\r\nimport home from \"./pages/home\";\r\nimport login from \"./pages/login\";\r\nimport signup from \"./pages/signup\";\r\nimport upload from \"./pages/upload\";\r\nimport profile from \"./pages/profile\";\r\nimport admin from \"./pages/admin\";\r\nimport posts from './pages/posts'\r\nimport edit from './pages/edit'\r\nimport {notFound} from './pages/notFound'\r\nimport getEdit from './pages/getEdit'\r\n\r\n\r\nimport users from './pages/users'\r\n\r\n//Components:\r\nimport Navbar from \"./components/navbar\";\r\nimport axios from \"axios\";\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\nconst font = \"'Source Sans Pro', sans-serif\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#2E2E3A\",\r\n      dark: \"#202028\",\r\n      light: \"#575761\"\r\n    },\r\n    secondary: {\r\n      main: \"#6F6F8C\",\r\n      dark: \"#4d4d62\",\r\n      light: \"#8b8ba3\"\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true,\r\n    fontFamily: font\r\n  }\r\n});\r\n\r\n\r\n\r\n\r\nconst token = localStorage.FBIdToken;\r\nlet UIauth;\r\nif (token) {\r\n  const decodedToken = jwtDecode(token);\r\n  if (decodedToken.exp * 1000 < Date.now()) {\r\n    window.location.href = \"/login\";\r\n    store.dispatch(logoutUser());\r\n    UIauth = false;\r\n  } else {\r\n    store.dispatch({ type: SET_AUTHENTICATED });\r\n\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n\r\n    store.dispatch(getUserData());\r\n    UIauth = true;\r\n  }\r\n}\r\nconst styles = {\r\n  success: { backgroundColor: '#2E2E3A' },\r\n  error: { backgroundColor: '#202028' },\r\n  warning: { backgroundColor: 'red' },\r\n  info: { backgroundColor: '#4d4d62' },\r\n};\r\n\r\nfunction App(props) {\r\n  const { classes } = props;\r\n\r\n\r\n  return (\r\n\r\n    <MuiThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <SnackbarProvider\r\n          classes={{\r\n            variantSuccess: classes.success,\r\n            variantError: classes.error,\r\n            variantWarning: classes.warning,\r\n            variantInfo: classes.info,\r\n          }}\r\n          maxSnack={3}>\r\n          <div className=\"App\">\r\n            <Router>\r\n              <Navbar />\r\n\r\n              <Switch>\r\n                <Route exact path=\"/\" component={home} />\r\n                <AuthRoute exact path=\"/login\" component={login} />\r\n                <AuthRoute exact path=\"/signup\" component={signup} />\r\n                <Route exact path=\"/upload\" component={upload} />\r\n                <Route exact path=\"/user\" component={profile} />\r\n                <Route exact path=\"/admin\" component={admin} />\r\n                <Route path=\"/posts/\" component={posts} />\r\n                <Route path=\"/editPost/\" component={edit} />\r\n                <Route path=\"/editRequests/\" component={getEdit} />\r\n\r\n                <Route path=\"/users/\" component={users} />\r\n                <Route  component={notFound} />\r\n               \r\n              </Switch>\r\n            </Router>\r\n          </div>\r\n        </SnackbarProvider>\r\n      </Provider>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\nApp.propTypes = {\r\n\r\n  classes: PropTypes.object.isRequired,\r\n\r\n};\r\nexport { UIauth };\r\nexport default withStyles(styles)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport \"./style.scss\";\r\n\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render( < App / > , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();"],"sourceRoot":""}